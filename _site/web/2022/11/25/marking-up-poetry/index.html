<!DOCTYPE html>
<html lang="en-CA"
      itemscope
      itemtype="https://schema.org/ItemPage"
      itemid="https://mstewartgallus.github.io/web/2022/11/25/marking-up-poetry/">
  <head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Marking Up Poetry — Words to Kick Your Teeth Out</title>
<link rel="icon" href="/assets/favicon.svg">
<link rel="stylesheet" href="/assets/main.css">
<link type="application/atom+xml" rel="alternate" href="/feed.xml" title="Words to Kick Your Teeth Out" >
<link rel="canonical" href="https://mstewartgallus.github.io/web/2022/11/25/marking-up-poetry/">
<link rel="author" href="/about">
<meta name="author" content="Molossus Spondee">
<meta name="description" content="Common poetry markup is inaccessible, unsemantic and doesn’t display well. I am not skilled in accessiblity and I don’t have good solutions. See Try It if you want to try out a screen reader yourself.">
<meta property="og:title" content="Marking Up Poetry">
<meta property="og:url" content="https://mstewartgallus.github.io/web/2022/11/25/marking-up-poetry/">
<meta property="og:type" content="article">
<meta name="og:site_name" content="Words to Kick Your Teeth Out">
<meta property="og:image" content="https://mstewartgallus.github.io/assets/favicon.svg" >
<meta property="og:description" content="Common poetry markup is inaccessible, unsemantic and doesn’t display well. I am not skilled in accessiblity and I don’t have good solutions. See Try It if you want to try out a screen reader yourself."><meta property="og:article:author" content="Molossus Spondee">
<meta property="og:article:published_time" content="2022-11-25"><meta property="og:article:tag" content="Poetry"><meta property="og:article:tag" content="HTML"><meta property="og:article:tag" content="CSS"><meta property="og:article:tag" content="Accessiblity"><meta property="og:profile" content="Molossus Spondee">
<meta property="og:profile:username" content="Molossus Spondee">
</head>
  <body itemscope
        itemprop="mainEntity hasPart"
        itemtype="https://schema.org/BlogPosting"
        itemid="https://mstewartgallus.github.io/web/2022/11/25/marking-up-poetry/">
    <header><a translate="no" href="/"><cite>Words to Kick Your Teeth Out</cite></a>
</header>
    <div>
      <main aria-labelledby="title" itemprop="text">
        <header>
          <hgroup>
            <h1 id="title" itemprop="name headline">
              <a rel="bookmark" href="/web/2022/11/25/marking-up-poetry/" itemprop="url">Marking Up Poetry</a>
            </h1></hgroup>
        </header>
        <div itemprop="articleBody"><p>Common poetry markup is inaccessible, unsemantic and doesn’t display
well. I am not skilled in accessiblity and I don’t have good
solutions.  See <a href="#tryit">Try It</a> if you want to try out a screen
reader yourself.</p>

<h2 id="accessiblity"><a href="#accessiblity">Accessibility</a></h2>

<p>The art of the spoken word is not accessible to the visually impaired.
Most markup navigates awkwardly, does not insert appropriate pauses
for breath and mispronounces stress and sounds.  Consider <a href="#markupa">markup
A</a> and <a href="#markupb">markup B</a>.  In <a href="#markupa">markup A</a> a poem
is an ordered list of stanzas and stanzas are ordered lists of verses.
In <a href="#markupb">markup B</a> poems are sequences of stanzas, stanzas are
paragraphs and lines in a paragraph are separated with line break
elements.</p>

<figure id="markupa">

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;ol</span> <span class="na">class=</span><span class="s">"poem"</span><span class="nt">&gt;</span>
<span class="nt">&lt;li&gt;</span>
    <span class="nt">&lt;ol&gt;</span>
        <span class="nt">&lt;li&gt;</span>Roses are red<span class="nt">&lt;/li&gt;</span>
        <span class="nt">&lt;li&gt;</span>Violets are blue,<span class="nt">&lt;/li&gt;</span>
        <span class="nt">&lt;li&gt;</span>Sugar is sweet<span class="nt">&lt;/li&gt;</span>
        <span class="nt">&lt;li&gt;</span>And so are you.<span class="nt">&lt;/li&gt;</span>
    <span class="nt">&lt;/ol&gt;</span>
<span class="nt">&lt;/li&gt;</span>
<span class="nt">&lt;/ol&gt;</span>
</code></pre></div></div>

<figcaption><a href="#markupa">Markup A</a></figcaption>
</figure>

<figure id="markupb">

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">"stanza"</span><span class="nt">&gt;</span>Roses are red<span class="nt">&lt;br&gt;</span>
Violets are blue,<span class="nt">&lt;br&gt;</span>
Sugar is sweet<span class="nt">&lt;br&gt;</span>
And so are you.<span class="nt">&lt;/p&gt;</span>
</code></pre></div></div>

<figcaption><a href="#markupb">Markup B</a></figcaption>
</figure>

<p><a href="#markupa">Markup A</a> is hard to navigate as each line in an ordered
list must be manually tracked through.  As well <q>line <var>m</var>
of <var>n</var></q> is repeated for every line of <a href="#markupa">Markup
A</a>.  You can use the <code class="language-plaintext highlighter-rouge">presentation</code> <abbr title="Accessible Rich Internet Applications">ARIA</abbr> role as in <a href="#markupa2">markup
A</a> and <a href="#markupa3">markup A’’</a> to ameliorate the problem.
By the spec using the <code class="language-plaintext highlighter-rouge">presentation</code> role in a list item for a list
already marked with a <code class="language-plaintext highlighter-rouge">presentation</code> role shouldn’t do much but such
markup can reduce cruft in Firefox’s accessibility inspector.</p>

<figure id="markupa2">

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;ol</span> <span class="na">class=</span><span class="s">"poem"</span><span class="nt">&gt;</span>
<span class="nt">&lt;li&gt;</span>
    <span class="nt">&lt;ol</span> <span class="na">role=</span><span class="s">"presentation"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;li</span> <span class="na">role=</span><span class="s">"presentation"</span><span class="nt">&gt;</span>Roses are red<span class="nt">&lt;/li&gt;</span>
        <span class="nt">&lt;li</span> <span class="na">role=</span><span class="s">"presentation"</span><span class="nt">&gt;</span>Violets are blue,<span class="nt">&lt;/li&gt;</span>
        <span class="nt">&lt;li</span> <span class="na">role=</span><span class="s">"presentation"</span><span class="nt">&gt;</span>Sugar is sweet<span class="nt">&lt;/li&gt;</span>
        <span class="nt">&lt;li</span> <span class="na">role=</span><span class="s">"presentation"</span><span class="nt">&gt;</span>And so are you.<span class="nt">&lt;/li&gt;</span>
    <span class="nt">&lt;/ol&gt;</span>
<span class="nt">&lt;/li&gt;</span>
<span class="nt">&lt;/ol&gt;</span>
</code></pre></div></div>

<figcaption><a href="#markupa2">Markup A'</a></figcaption>
</figure>

<figure id="markupa3">

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;ol</span> <span class="na">class=</span><span class="s">"poem"</span> <span class="na">role=</span><span class="s">"presentation"</span><span class="nt">&gt;</span>
<span class="nt">&lt;li&gt;</span>
    <span class="nt">&lt;ol</span> <span class="na">role=</span><span class="s">"presentation"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;li</span> <span class="na">role=</span><span class="s">"presentation"</span><span class="nt">&gt;</span>Roses are red<span class="nt">&lt;/li&gt;</span>
        <span class="nt">&lt;li</span> <span class="na">role=</span><span class="s">"presentation"</span><span class="nt">&gt;</span>Violets are blue,<span class="nt">&lt;/li&gt;</span>
        <span class="nt">&lt;li</span> <span class="na">role=</span><span class="s">"presentation"</span><span class="nt">&gt;</span>Sugar is sweet<span class="nt">&lt;/li&gt;</span>
        <span class="nt">&lt;li</span> <span class="na">role=</span><span class="s">"presentation"</span><span class="nt">&gt;</span>And so are you.<span class="nt">&lt;/li&gt;</span>
    <span class="nt">&lt;/ol&gt;</span>
<span class="nt">&lt;/li&gt;</span>
<span class="nt">&lt;/ol&gt;</span>
</code></pre></div></div>

<figcaption><a href="#markupa3">Markup A''</a></figcaption>
</figure>

<p>As a <i>nuclear</i> solution is you can markup the text for graphical
display using the <code class="language-plaintext highlighter-rouge">graphic</code> role as in <a href="#markupn">Markup N</a>.  I would
advise use of the <code class="language-plaintext highlighter-rouge">aria-labelledby</code> attribute instead of the
<code class="language-plaintext highlighter-rouge">aria-label</code> attribute here. <code class="language-plaintext highlighter-rouge">aria-label</code> has a tendency to work
poorly with newlines in text, is not usually translated by automated
tools and doesn’t let you embed more markup as appropriate.</p>

<figure id="markupn">

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;figure&gt;</span>
<span class="nt">&lt;ol</span> <span class="na">class=</span><span class="s">"poem"</span> <span class="na">role=</span><span class="s">"graphic"</span> <span class="na">aria-labelledby=</span><span class="s">"transcript"</span><span class="nt">&gt;</span>
<span class="nt">&lt;li&gt;</span>
    <span class="nt">&lt;ol&gt;</span>
        <span class="nt">&lt;li&gt;</span>Roses are red<span class="nt">&lt;/li&gt;</span>
        <span class="nt">&lt;li&gt;</span>Violets are blue,<span class="nt">&lt;/li&gt;</span>
        <span class="nt">&lt;li&gt;</span>Sugar is sweet<span class="nt">&lt;/li&gt;</span>
        <span class="nt">&lt;li&gt;</span>And so are you.<span class="nt">&lt;/li&gt;</span>
    <span class="nt">&lt;/ol&gt;</span>
<span class="nt">&lt;/li&gt;</span>
<span class="nt">&lt;/ol&gt;</span>
<span class="nt">&lt;figcaption</span> <span class="na">id=</span><span class="s">"transcript"</span><span class="nt">&gt;</span>
<span class="nt">&lt;p&gt;</span>Transcript for text to speech:<span class="nt">&lt;/p&gt;</span>
<span class="nt">&lt;p&gt;</span>Roses are red ;
   Violets are blue,
   Sugar is sweet ;
   And so are you.<span class="nt">&lt;/p&gt;</span>
<span class="nt">&lt;/figcaption&gt;</span>
<span class="nt">&lt;/figure&gt;</span>
</code></pre></div></div>

<figcaption><a href="#markupn">Markup N</a></figcaption>
</figure>

<p>In some setups <a href="#markupb">Markup B</a> sounds yucky.  Ending and starting
words in separate lines like <i>red</i> and <i>Violets</i> run
together.  You might include extra punctuation annotated with a
screen-reader-only class as with <a href="#markupb2">Markup A’</a> and <a href="#markupb3">Markup B’
CSS</a> to workaround around this issue.  However, on Firefox
this hack breaks up lines into separate areas to track through.</p>

<figure id="markupb2">

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;p&gt;</span>Roses are red<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"sr-only"</span><span class="nt">&gt;</span>; <span class="nt">&lt;/span&gt;&lt;br&gt;</span>
Violets are blue,<span class="nt">&lt;br&gt;</span>
Sugar is sweet<span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">"sr-only"</span><span class="nt">&gt;</span>; <span class="nt">&lt;/span&gt;&lt;br&gt;</span>
And so are you.<span class="nt">&lt;/p&gt;</span>
</code></pre></div></div>

<figcaption><a href="#markupb2">Markup B' <abbr title="HyperText Markup Language">HTML</abbr></a></figcaption>
</figure>

<figure id="markupb3">

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">.sr-only</span> <span class="p">{</span>
   <span class="nl">display</span><span class="p">:</span> <span class="n">inline-block</span> <span class="p">;</span>
   <span class="py">user-select</span><span class="p">:</span> <span class="nb">none</span> <span class="p">;</span>
   <span class="nl">font-size</span><span class="p">:</span> <span class="m">1px</span> <span class="p">;</span>
   <span class="nl">line-height</span><span class="p">:</span> <span class="m">1px</span> <span class="p">;</span>
   <span class="nl">color</span><span class="p">:</span> <span class="nb">transparent</span> <span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<figcaption><a href="#markupb3">Markup B' <abbr title="Cascading Style Sheets">CSS</abbr></a></figcaption>
</figure>

<p>No revisions of <a href="#markupa">Markup A</a> or <a href="#markupb">Markup B</a> ensure
proper pronounciation of stress and sounds.  Only American English is
likely to be pronounced correctly. To help you can set the language
attribute for documents and poems as appropriate.  However, this is
not a complete solution.</p>

<p>As an anglophone Canadian author I set the language attribute for my
documents and poems to <code class="language-plaintext highlighter-rouge">en-CA</code>. However, this use of the <code class="language-plaintext highlighter-rouge">lang</code>
attribute only helps with English words and not with imports from
other languages.  I don’t know how to help screen readers pronounce
names of mythical figures.  You could markup individual phrases like
<code class="language-plaintext highlighter-rouge">&lt;i lang="non"&gt;Sleipnir&lt;/i&gt;</code> (old Norse) and <code class="language-plaintext highlighter-rouge">&lt;i lang="gem"&gt;Wotan&lt;/i&gt;</code>
(Germanic languages group) but this particular markup doesn’t help.</p>

<p>Semantically you might markup stress with emphasis with the <code class="language-plaintext highlighter-rouge">em</code>
element.  However, such markup is verbose and many screen readers
ignore elements like <code class="language-plaintext highlighter-rouge">em</code> because of the heavy unsemantic abuse of
such elements in the wider internet for presenting bold text.</p>

<p>Perhaps there might be some obscure Unicode diacritics for better
marking up the prosody but I have not explored this option.  I worry
that such glyphs might be pronounced in common screen readers as
something like <q>Unicode character 591</q>.</p>

<h2 id="presentation"><a href="#presentation">Presentation</a></h2>

<p>Laying out poetry on squashed formats is awkward.  In print the
standard layout for overlong lines is to align the first line ragged
right and all other lines ragged right.</p>

<p>You can approximate a poetry layout with a hanging indent layout
something like <a href="#indentcss">Indent <abbr>CSS</abbr></a>.  However, a
hanging indent layout is not really correct.</p>

<figure>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">.line</span> <span class="p">{</span>
   <span class="nl">text-indent</span><span class="p">:</span> <span class="m">-4ch</span> <span class="p">;</span>
   <span class="nl">margin-left</span><span class="p">:</span> <span class="m">4ch</span> <span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<figcaption><a href="#indentcss">Indent <abbr>CSS</abbr></a></figcaption>
</figure>

<p>You can approximate a poetry layout on the web by aligning every line
block to the left but aligning the last line of the text <em>within</em> the
line block to the right.  Something like <a href="#alignlastcss">Align Last
<abbr>CSS</abbr></a> almost works for a poetry layout.
However, even this layout fails when you overflow multiple lines.</p>

<figure id="alignlastcss">

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">.stanza</span> <span class="p">{</span>
   <span class="nl">display</span><span class="p">:</span> <span class="n">flex</span> <span class="p">;</span>
   <span class="nl">flex-direction</span><span class="p">:</span> <span class="n">column</span> <span class="p">;</span>
   <span class="nl">align-items</span><span class="p">:</span> <span class="n">start</span> <span class="p">;</span>
<span class="p">}</span>
<span class="nc">.line</span> <span class="p">{</span>
   <span class="nl">display</span><span class="p">:</span> <span class="nb">block</span> <span class="p">;</span>
   <span class="nl">text-align-last</span><span class="p">:</span> <span class="n">end</span> <span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<figcaption><a href="#alignlastcss">Align Last <abbr>CSS</abbr></a></figcaption>
</figure>

<p>Here is an <a href="#example">example</a> similar to the current compromise I use
on this site along with <a href="#examplecode">code</a>.</p>

<figure id="example">

<style>
#scope p {
   text-indent: 0 ;
   padding: 0 ;
}
#scope p > span {
   display: inline-block ;
   text-align-last: end ;
   pause: medium medium ;
}
</style>
<div id="scope" lang="en-CA">
<p>
  <span>Roses are red</span><br />
  <span>Violets are blue</span><br />
  <span>Sugar is sweet</span><br />
  <span>aaaaaaaaaaaaaaaa.</span>
</p>
</div>

<figcaption><a href="#example">Example</a></figcaption>
</figure>

<figure id="examplecode">

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;style&gt;</span>
<span class="nf">#scope</span> <span class="nt">p</span> <span class="p">{</span>
   <span class="nl">text-indent</span><span class="p">:</span> <span class="m">0</span> <span class="p">;</span>
   <span class="nl">padding</span><span class="p">:</span> <span class="m">0</span> <span class="p">;</span>
<span class="p">}</span>
<span class="nf">#scope</span> <span class="nt">p</span> <span class="o">&gt;</span> <span class="nt">span</span> <span class="p">{</span>
   <span class="nl">display</span><span class="p">:</span> <span class="n">inline-block</span> <span class="p">;</span>
   <span class="nl">text-align-last</span><span class="p">:</span> <span class="n">end</span> <span class="p">;</span>
<span class="p">}</span>
<span class="nt">&lt;/style&gt;</span>
<span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"scope"</span> <span class="na">lang=</span><span class="s">"en-CA"</span><span class="nt">&gt;</span>
<span class="nt">&lt;p&gt;</span>
  <span class="nt">&lt;span&gt;</span>Roses are red<span class="nt">&lt;/span&gt;&lt;br&gt;</span>
  <span class="nt">&lt;span&gt;</span>Violets are blue<span class="nt">&lt;/span&gt;&lt;br&gt;</span>
  <span class="nt">&lt;span&gt;</span>Sugar is sweet<span class="nt">&lt;/span&gt;&lt;br&gt;</span>
  <span class="nt">&lt;span&gt;</span>aaaaaaaaaaaaaaaa.<span class="nt">&lt;/span&gt;</span>
<span class="nt">&lt;/p&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</code></pre></div></div>

<figcaption><a href="#examplecode">Example Code</a></figcaption>
</figure>

<h2 id="conclusion"><a href="#conclusion">Conclusion</a></h2>

<p>You should use the <code class="language-plaintext highlighter-rouge">audio</code> element to markup poetry.</p>

<h2 id="tryit"><a href="#tryit">Try It</a></h2>

<p>Personally I found Android TalkBack to be the easiest screen reader to
get started with. <a href="https://www.a11yproject.com">The helpful
<cite>A11y Project</cite> blog</a> has a number of guides on getting
started with screen readers but they might be a little old.</p>

<ul>
  <li><a href="https://www.a11yproject.com/posts/getting-started-with-orca"><cite>Getting Started with Orca screen reader on Gnome desktop environment on Ubuntu 20.04 LTS</cite></a></li>
  <li><a href="https://www.a11yproject.com/posts/getting-started-with-voiceover-ios"><cite>Getting Started with VoiceOver on iOS</cite></a></li>
  <li><a href="https://www.a11yproject.com/posts/getting-started-with-nvda"><cite>Getting Started with NVDA</cite></a></li>
  <li><a href="https://www.a11yproject.com/posts/getting-started-with-voiceover"><cite>Getting Started with MacOS VoiceOver</cite></a></li>
</ul>

<h2 id="onemorething"><a href="#onemorething">And One More Thing</a></h2>

<p>As of this blog post the <a href="https://www.w3.org/TR/css-speech-1/"><cite><abbr>CSS</abbr> Speech
Module</cite></a> has never really
gone anywhere.  Perhaps in the future the <code class="language-plaintext highlighter-rouge">voice-stress</code>,
<code class="language-plaintext highlighter-rouge">voice-duration</code> (for long syllables), <code class="language-plaintext highlighter-rouge">voice-pitch</code> (for pitch
accent) and <code class="language-plaintext highlighter-rouge">pause</code> properties would solve these sort of accessiblity
problemss.</p>
</div>
      </main><nav aria-labelledby="paging">
  <header>
    <hgroup>
      <h2 id="paging"><a href="#paging">Paging</a></h2>
    </hgroup>
  </header>
  <div class="paging"><a href="/poem/2022/11/17/memories/" rel="previous">
      <dl>
        <dt>Previous</dt>
        <dd>
          <cite>Memories</cite>
        </dd>
      </dl>
    </a></div>
</nav></div><footer aria-labelledby="metadata">
  <hgroup>
    <h2 id="metadata"><a href="#metadata">Metadata</a></h2>
  </hgroup>
  <dl class="metadata">
    <dt>Author</dt>
    <dd>
      <span itemprop="creator author" itemscope itemtype="https://schema.org/Person">
        <a rel="author" itemprop="url" href="/about">
          @<span translate="no" itemprop="name">Molossus Spondee</span>
        </a>
      </span>
    </dd>
    <dt>Posted</dt>
    <dd>
      <time datetime="2022-11-25T13:26:00-08:00" itemprop="datePublished">Nov 25, 2022</time>
    </dd><dt>Category</dt><dd itemprop="articleSection">
      <a rel="tag" href="/search/?category=Web">Web</a>
    </dd><dt>Tag</dt><dd itemprop="keywords">
      <a rel="tag" href="/search/?tag=Poetry">#Poetry</a>
    </dd><dd itemprop="keywords">
      <a rel="tag" href="/search/?tag=HTML">#HTML</a>
    </dd><dd itemprop="keywords">
      <a rel="tag" href="/search/?tag=CSS">#CSS</a>
    </dd><dd itemprop="keywords">
      <a rel="tag" href="/search/?tag=Accessiblity">#Accessiblity</a>
    </dd></dl>
</footer></body>
</html>
