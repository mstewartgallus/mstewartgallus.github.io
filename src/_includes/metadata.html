{%- assign date_format = "%Y-%m-%d" -%}
{%- if page.collection == 'posts' -%}
<footer aria-labelledby="metadata">
  <hgroup>
    <h2 id="metadata">Metadata</h2>
  </hgroup>

  <div class="metadata">
    <address itemprop="creator author" itemscope itemtype="https://schema.org/Person">
      <dl>
        <dt>Author</dt>
        <dd>
          <a rel="author" itemprop="url" href="{{ page.author.url | relative_url }}">
            @<span translate="no" itemprop="name">{{ page.author.name | escape }}</span>
          </a>
        </dd>
      </dl>
    </address>
    <dl>
      <dt>Posted</dt>
      <dd>
        <time datetime="{{ page.date | date_to_xmlschema }}" itemprop="datePublished pubdate">
          {{- page.date | date: date_format -}}
        </time>
      </dd>
      {%- if page.categories.size > 0 -%}
      <dt>Category</dt>
      {%- for category in page.categories -%}
      <dd itemprop="articleSection">
        <a rel="tag" href="{% link search.html %}?category={{ category | cgi_escape }}">
          {{- category | escape -}}
        </a>
      </dd>
      {%- endfor -%}
      {%- endif -%}

      {%- if page.tags.size > 0 -%}
      <dt>Tag</dt>
      {%- for tag in page.tags -%}
      <dd>
        <a rel="tag" href="{% link search.html %}?tag={{ tag | cgi_escape }}">
          #<span itemprop="keywords">{{- tag | escape -}}</span>
        </a>
      </dd>
      {%- endfor -%}
      {%- endif -%}
    </dl>
  </div>
</footer>
{%- endif -%}
