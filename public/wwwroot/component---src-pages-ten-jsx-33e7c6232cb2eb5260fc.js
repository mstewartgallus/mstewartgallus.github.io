"use strict";(self.webpackChunkwords_to_kick_your_teeth_out=self.webpackChunkwords_to_kick_your_teeth_out||[]).push([[22],{5465:function(e,n,t){t.r(n),t.d(n,{default:function(){return k}});var s=t(4506),l=t(6542);const o=(0,l.L)("ul","edit-module--editList--741ed"),r=(0,l.L)("li","edit-module--editItem--8728d");var a=t(6540),c="ten-module--entry--07e39",i=t(4848);const d=(e,n)=>e?n:void 0,u=({children:e,cond:n})=>n?e:void 0,h=({value:e,onChange:n})=>{const{0:t,1:s}=(0,a.useState)(e),l=(0,a.useCallback)((e=>{e.preventDefault();const{value:t}=e.target;s(t),n(t)}),[n]);return(0,i.jsx)("input",{className:"ten-module--editInput--85553",required:"required",onChange:l,value:null!=t?t:""})},v=({value:e,onChange:n,open:t,onArchive:s,onUp:l,onDown:d,controlId:v,buttonId:x})=>{const{0:m,1:p}=(0,a.useState)(null!=e?e:""),j=(0,a.useCallback)((e=>p(e)),[]),b=(0,a.useCallback)((e=>{const t=e.nativeEvent.submitter.value;switch(t){case"edit":case"archive":case"up":case"down":e.preventDefault(),n(m)}switch(t){case"archive":s();break;case"up":l();break;case"down":d();break;default:return}}),[n,m,s,l,d]);return(0,i.jsxs)("div",{className:"ten-module--editForm--d0adf",children:[(0,i.jsxs)("div",{className:c,children:[(0,i.jsx)("label",{className:"ten-module--title--a305d",htmlFor:x,children:null!=e?e:"..."}),(0,i.jsx)(u,{cond:t,children:(0,i.jsx)("form",{id:v,action:"#",onSubmit:b,children:(0,i.jsx)(h,{value:e,onChange:j})})})]}),(0,i.jsx)("div",{className:c,children:(0,i.jsx)(u,{cond:t,children:(0,i.jsx)("div",{className:"ten-module--editMenu--a5ec6",children:(0,i.jsxs)(o,{children:[(0,i.jsx)(r,{children:(0,i.jsx)("button",{form:v,value:"edit",children:"Edit"})}),(0,i.jsx)(r,{children:(0,i.jsx)("button",{form:v,disabled:!s,value:"archive",children:"Archive"})}),(0,i.jsx)(r,{children:(0,i.jsx)("button",{form:v,disabled:!l,value:"up",children:"Up"})}),(0,i.jsx)(r,{children:(0,i.jsx)("button",{form:v,disabled:!d,value:"down",children:"Down"})})]})})})})]})},x=({value:e,onChange:n,open:t,onToggle:s,onArchive:l,onUp:o,onDown:r})=>{const c=(0,a.useId)(),d=(0,a.useId)(),u=(0,a.useCallback)((e=>{e.preventDefault(),s()}),[s]);return(0,i.jsxs)("div",{className:"ten-module--editFormWrapper--0895a",children:[(0,i.jsx)("div",{className:"ten-module--button--97a56",children:(0,i.jsx)("button",{id:d,onClick:u,"aria-expanded":t,"aria-controls":c,children:t?(0,i.jsx)(i.Fragment,{children:"+"}):(0,i.jsx)(i.Fragment,{children:"-"})})}),(0,i.jsx)(v,{controlId:c,buttonId:d,open:t,value:e,onChange:n,onArchive:l,onUp:o,onDown:r})]})},m=(0,a.createContext)({selection:-1,state:null,onToggle:()=>{},onEdit:()=>{},onArchive:()=>{},onUp:()=>{},onDown:()=>{}});m.displayName="EntryContext";const p=({index:e})=>{const{selection:n,state:t,onEdit:s,onArchive:l,onUp:o,onDown:r,onToggle:c}=(0,a.useContext)(m),u=(0,a.useCallback)((()=>c(e)),[e,c]),h=(0,a.useCallback)((n=>s(e,n)),[e,s]),v=(0,a.useCallback)((()=>l(e)),[e,l]),p=(0,a.useCallback)((()=>r(e)),[e,r]),j=(0,a.useCallback)((()=>o(e)),[e,o]),{entries:f,fresh:k}=t,C=n===e,w=f[k[e]];return(0,i.jsx)("li",{className:"ten-module--entryItem--2f931",children:(0,i.jsx)(x,{value:w,onChange:h,open:C,onToggle:u,onArchive:v,onUp:d(e>0,j),onDown:d(e<b,p)})})},j=({children:e,state:n,onEdit:t,onArchive:s,onDown:l,onUp:o})=>{const{0:r,1:c}=(0,a.useState)(-1),d=(0,a.useCallback)((e=>{c((n=>n===e?-1:e))}),[c]),u=(0,a.useCallback)(((e,n)=>{t(e,n),c(-1)}),[t,c]),h=(0,a.useCallback)((e=>{s(e),c(-1)}),[s,c]),v=(0,a.useCallback)((e=>{o(e),c(-1)}),[o,c]),x=(0,a.useCallback)((e=>{l(e),c(-1)}),[l,c]),p=(0,a.useMemo)((()=>({selection:r,state:n,onToggle:d,onEdit:u,onArchive:h,onUp:v,onDown:x})),[r,n,d,u,h,x,v]);return(0,i.jsx)("ul",{className:"ten-module--entryList--b8e44",children:(0,i.jsx)(m.Provider,{value:p,children:e})})},b=10,f=(e,n)=>{switch(n.type){case"edit":{const{index:t,value:l}=n,o=e.fresh[t],r=(0,s.A)(e.entries);return r[o]=l,{...e,entries:r,selection:-1}}case"archive":{const{index:t}=n,l=e.fresh[t],o=(0,s.A)(e.fresh),r=[].concat((0,s.A)(e.entries),[null]);o[t]=r.length-1;const a=[l].concat((0,s.A)(e.archived));return{...e,fresh:o,archived:a,entries:r,selection:-1}}case"up":{const{index:t}=n,l=(0,s.A)(e.fresh),o=(b+t-1)%b,r=l[t];return l[t]=l[o],l[o]=r,{...e,fresh:l,selection:-1}}case"down":{const{index:t}=n,l=(0,s.A)(e.fresh),o=(t+1)%b,r=l[t];return l[t]=l[o],l[o]=r,{...e,fresh:l,selection:-1}}case"select":{const{index:t}=n;return{...e,selection:t}}default:throw Error("unknown action: "+n)}};var k=()=>{const{0:e,1:n}=(0,a.useReducer)(f,null,(()=>{const e=Array(b).fill(null),n=e.map(((e,n)=>n));return{entries:e,fresh:n,archived:[]}})),t=(0,a.useCallback)(((e,t)=>n({type:"edit",index:e,value:t})),[]),s=(0,a.useCallback)(((e,t)=>n({type:"archive",index:e,value:t})),[]),l=(0,a.useCallback)((e=>n({type:"up",index:e})),[]),o=(0,a.useCallback)((e=>n({type:"down",index:e})),[]),{fresh:r,archived:c,entries:d}=e;return(0,i.jsxs)("div",{children:[(0,i.jsxs)("section",{children:[(0,i.jsx)("h1",{children:"Ten Things"}),(0,i.jsx)(j,{onEdit:t,onArchive:s,onDown:o,onUp:l,state:e,children:r.map(((e,n)=>(0,i.jsx)(p,{index:n,id:e},e)))})]}),(0,i.jsxs)("section",{children:[(0,i.jsx)("h2",{children:"Archived"}),(0,i.jsx)("ul",{children:c.map(((e,n)=>(0,i.jsx)("li",{children:d[e]},e)))})]})]})}},6278:function(e,n,t){t.d(n,{T:function(){return s}});const s=e=>{var n;if("string"==typeof e)return e;const t=null!==(n=e.displayName)&&void 0!==n?n:e.name;return t||console.log(e),t}},6542:function(e,n,t){t.d(n,{L:function(){return r}});var s=t(6540),l=t(6278),o=t(4848);const r=(e,n)=>{const t=((e,n)=>(0,s.forwardRef)(((t,s)=>{var l;const r=`${null!==(l=t.className)&&void 0!==l?l:""} ${n}`;return(0,o.jsx)(e,{...t,className:r,ref:s})})))(e,n),r=(0,l.T)(e);return t.displayName=`.${n}(${r})`,t}}}]);
//# sourceMappingURL=component---src-pages-ten-jsx-33e7c6232cb2eb5260fc.js.map