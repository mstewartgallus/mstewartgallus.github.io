(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{5888:e=>{e.exports={editForm:"EntryForm_editForm__YhAuY",entryForm:"EntryForm_entryForm__MmFvs",options:"EntryForm_options__Q_SUy",editButton:"EntryForm_editButton__hOfaj",editFormWrapper:"EntryForm_editFormWrapper__MEhIK",editableTitle:"EntryForm_editableTitle__HDoZ6",titleAndInput:"EntryForm_titleAndInput__fT8K_",title:"EntryForm_title__3RtFH",inputWrapper:"EntryForm_inputWrapper__7OcEZ",input:"EntryForm_input__3tr5U",menuWrapper:"EntryForm_menuWrapper__mj_rF",editMenu:"EntryForm_editMenu__z3yC0"}},7655:(e,t,r)=>{Promise.resolve().then(r.bind(r,8500))},8500:(e,t,r)=>{"use strict";r.d(t,{Ten:()=>F});var n=r(5155),l=r(8769),s=r(4540);let a=s.wA.withTypes(),i=s.d4.withTypes();s.Pj.withTypes();var d=r(2115),c=r(9207),u=r.n(c);let o=(0,d.createContext)({length:0,onDeselect:()=>{},onSelectIndex:()=>{},onEditIndex:()=>{},onArchiveIndex:()=>{},onUpIndex:()=>{},onDownIndex:()=>{},onSwapIndex:()=>{}});o.displayName="EntryList";let h=(0,d.createContext)({selected:!1,onDeselect:()=>{},onSelect:()=>{},onEdit:()=>{},onArchive:()=>{},onUp:()=>{},onDown:()=>{}});h.displayName="EntryItem";let p=()=>(0,d.useContext)(h),m=e=>{let{children:t,index:r}=e,{selectedIndex:l,onDeselect:s,onSelectIndex:a,length:i,onEditIndex:c,onArchiveIndex:p,onSwapIndex:m,onUpIndex:x,onDownIndex:v}=(0,d.useContext)(o),_=(0,d.useMemo)(()=>l==r,[r,l]),b=(0,d.useCallback)(()=>a(r),[r,a]),j=(0,d.useCallback)(e=>c(r,e),[r,c]),I=(0,d.useCallback)(()=>p(r),[r,p]),y=(0,d.useCallback)(()=>v(r),[r,v]),f=(0,d.useCallback)(()=>x(r),[r,x]),k=r>0?f:void 0,C=r<i?y:void 0,E=(0,d.useMemo)(()=>({selected:_,onDeselect:s,onSelect:b,onEdit:j,onArchive:I,onUp:k,onDown:C}),[_,s,b,j,I,k,C]),F=(0,d.useCallback)(e=>{let{dataTransfer:t}=e;t&&(t.dropEffect="move",t.effectAllowed="move",t.setData("text/plain",String(r)))},[r]),D=(0,d.useCallback)(e=>{let{dataTransfer:t}=e;t&&"move"===t.dropEffect&&(Number.isNaN(parseInt(t.getData("text/plain")))||e.preventDefault())},[]),g=(0,d.useCallback)(e=>{let{dataTransfer:t}=e;t&&(e.preventDefault(),m(parseInt(t.getData("text/plain")),r))},[r,m]);return(0,n.jsxs)("li",{className:u().entryItem,onDragStart:F,onDragOver:D,onDrop:g,children:[(0,n.jsx)("div",{className:u().grabberWrapper,children:(0,n.jsx)("button",{className:u().grabber,draggable:"true",tabIndex:-1,children:"::"})}),(0,n.jsx)(h.Provider,{value:E,children:t})]})},x=e=>{let{children:t,length:r,onEditIndex:l,onArchiveIndex:s,onSwapIndex:a,onDownIndex:i,onUpIndex:c}=e,[h,p]=(0,d.useState)(null),m=(0,d.useCallback)(e=>p(e),[]),x=(0,d.useCallback)(()=>p(null),[]),v=(0,d.useMemo)(()=>({selectedIndex:null!=h?h:void 0,onDeselect:x,onSelectIndex:m,length:r,onEditIndex:l,onArchiveIndex:s,onSwapIndex:a,onUpIndex:c,onDownIndex:i}),[h,x,m,r,l,s,a,c,i]);return(0,n.jsx)("ul",{className:u().entryList,children:(0,n.jsx)(o.Provider,{value:v,children:t})})},v=e=>{let{cond:t,children:r}=e;return t?r:null};var _=r(9679),b=r.n(_);let j=e=>{let{children:t}=e;return(0,n.jsx)("ul",{className:b().editList,children:t})},I=e=>{let{children:t}=e;return(0,n.jsx)("li",{className:b().editItem,children:t})};var y=r(5888),f=r.n(y);let k=e=>{let{onArchive:t,onUp:r,onDown:l}=e,[s,a]=(0,d.useState)(!1),i=(0,d.useCallback)(e=>{e.preventDefault(),a(e=>!e)},[]),c=(0,d.useCallback)(e=>{switch(e.nativeEvent.submitter.value){case"archive":t&&(e.preventDefault(),t());break;case"up":r&&(e.preventDefault(),r());break;case"down":l&&(e.preventDefault(),l());break;default:return}},[t,r,l]);return(0,n.jsxs)("div",{className:f().options,children:[(0,n.jsx)("button",{onClick:i,children:s?(0,n.jsx)(n.Fragment,{children:"+"}):(0,n.jsx)(n.Fragment,{children:"-"})}),(0,n.jsx)(v,{cond:s,children:(0,n.jsx)("form",{action:"#",onSubmit:c,children:(0,n.jsxs)(j,{children:[(0,n.jsx)(I,{children:(0,n.jsx)("button",{disabled:!t,value:"archive",children:"Archive"})}),(0,n.jsx)(I,{children:(0,n.jsx)("button",{disabled:!r,value:"up",children:"↑"})}),(0,n.jsx)(I,{children:(0,n.jsx)("button",{disabled:!l,value:"down",children:"↓"})})]})})})]})},C=e=>{let{value:t,onChange:r,selected:l,onSelect:s,onDeselect:a}=e,i=(0,d.useId)(),c=(0,d.useId)(),u=(0,d.useId)(),o=(0,d.useCallback)(e=>{e.preventDefault(),l?a():s()},[s,a,l]),[h,p]=(0,d.useState)(null!=t?t:""),m=(0,d.useCallback)(e=>{let{target:t}=e;t&&(e.preventDefault(),p(t.value))},[]),x=(0,d.useCallback)(e=>{e.preventDefault(),r(h),a()},[a,r,h]);return(0,n.jsxs)("div",{className:f().editForm,children:[(0,n.jsxs)("div",{className:f().editableTitle,children:[(0,n.jsx)("button",{className:f().editButton,id:u,onClick:o,"aria-expanded":l,"aria-controls":c,children:l?(0,n.jsx)(n.Fragment,{children:"+"}):(0,n.jsx)(n.Fragment,{children:"✎"})}),(0,n.jsxs)("div",{id:c,className:f().titleAndInput,children:[(0,n.jsx)("div",{className:f().title,children:null!=t?t:"..."}),(0,n.jsx)(v,{cond:l,children:(0,n.jsx)("div",{className:f().inputWrapper,children:(0,n.jsx)("input",{className:f().input,form:i,value:t,onChange:m})})})]})]}),(0,n.jsx)("div",{className:f().menuWrapper,children:(0,n.jsx)("form",{className:f().editMenu,id:i,action:"#",onSubmit:x,children:(0,n.jsx)(v,{cond:l,children:(0,n.jsx)("button",{children:"Finish Edit"})})})})]})},E=e=>{let{value:t}=e,{selected:r,onDeselect:l,onSelect:s,onEdit:a,onArchive:i,onUp:d,onDown:c}=p();return(0,n.jsxs)("div",{className:f().entryForm,children:[(0,n.jsx)(C,{selected:r,value:t,onChange:a,onSelect:s,onDeselect:l}),(0,n.jsx)(k,{onArchive:t?i:void 0,onDown:c,onUp:d})]})},F=()=>{let e=a(),t=i(l.Pk),r=i(l.pJ),s=(0,d.useCallback)((t,r)=>e((0,l.hc)({index:t,value:r})),[e]),c=(0,d.useCallback)(t=>e((0,l.rD)({index:t})),[e]),u=(0,d.useCallback)((t,r)=>e((0,l.wg)({leftIndex:t,rightIndex:r})),[e]),o=(0,d.useCallback)(t=>e((0,l.up)({index:t})),[e]),h=(0,d.useCallback)(t=>e((0,l.TR)({index:t})),[e]),p=(0,d.useMemo)(()=>t.reduce((e,t)=>+(null!=t.value)+e,0),[t]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("section",{children:[(0,n.jsxs)("h1",{children:[p," / 10"]}),(0,n.jsx)(x,{length:t.length,onEditIndex:s,onArchiveIndex:c,onSwapIndex:u,onDownIndex:h,onUpIndex:o,children:t.map((e,t)=>{let{id:r,value:l}=e;return(0,n.jsx)("div",{children:(0,n.jsx)(m,{index:t,children:(0,n.jsx)(E,{value:null!=l?l:void 0})})},r)})})]}),(0,n.jsxs)("section",{children:[(0,n.jsx)("h2",{children:"Archived"}),(0,n.jsx)("ul",{children:r.map(e=>{let{id:t,value:r}=e;return(0,n.jsx)("li",{children:r},t)})})]})]})}},8769:(e,t,r)=>{"use strict";r.d(t,{C9:()=>i,Pk:()=>p,TR:()=>h,hc:()=>d,pJ:()=>m,rD:()=>c,up:()=>o,wg:()=>u});var n=r(5710),l=r(8924);let s=(()=>{let e=Array(10).fill(null),t=e.map((e,t)=>t);return{entries:e,freshId:t,archivedId:[]}})(),a=e=>e.entries,i=(0,n.Z0)({name:"ten",initialState:s,reducers:e=>({edit:e.reducer((e,t)=>{let{payload:{index:r,value:n}}=t;e.entries[e.freshId[r]]=n}),archive:e.reducer((e,t)=>{let{payload:{index:r}}=t,n=e.freshId[r];e.freshId[r]=e.entries.length,e.entries.push(null),e.archivedId=[n,...e.archivedId]}),swap:e.reducer((e,t)=>{let{payload:{leftIndex:r,rightIndex:n}}=t,l=e.freshId[r];e.freshId[r]=e.freshId[n],e.freshId[n]=l}),up:e.reducer((e,t)=>{let{payload:{index:r}}=t,n=(10+r-1)%10,l=e.freshId[r];e.freshId[r]=e.freshId[n],e.freshId[n]=l}),down:e.reducer((e,t)=>{let{payload:{index:r}}=t,n=(r+1)%10,l=e.freshId[r];e.freshId[r]=e.freshId[n],e.freshId[n]=l})}),selectors:{selectFresh:(0,l.Mz)([a,e=>e.freshId],(e,t)=>t.map(t=>({id:t,value:e[t]}))),selectArchived:(0,l.Mz)([a,e=>e.archivedId],(e,t)=>t.map(t=>({id:t,value:e[t]})))}}),{edit:d,archive:c,swap:u,up:o,down:h}=i.actions,{selectFresh:p,selectArchived:m}=i.selectors},9207:e=>{e.exports={entryList:"EntryList_entryList__bGwc1",entryItem:"EntryList_entryItem__kaLfY",grabberWrapper:"EntryList_grabberWrapper__snhFn",grabber:"EntryList_grabber__Da0n7"}},9679:e=>{e.exports={editList:"EditList_editList__86Dy0",editItem:"EditList_editItem___ooyP"}}},e=>{var t=t=>e(e.s=t);e.O(0,[430,710,441,684,358],()=>t(7655)),_N_E=e.O()}]);