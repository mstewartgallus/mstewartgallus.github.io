(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1540:e=>{e.exports={editButtonWrapper:"Button_editButtonWrapper__ZWMM7",editButton:"Button_editButton__v1DIC"}},3799:e=>{e.exports={entryItem:"EntryItem_entryItem__G5bXq",entryForm:"EntryItem_entryForm__D2Qbr",grabberWrapper:"EntryItem_grabberWrapper__Z0k5M",grabber:"EntryItem_grabber__1lAJT",grabberIcon:"EntryItem_grabberIcon__nJUdF",moveButtons:"EntryItem_moveButtons__j8B5C",dropWrapper:"EntryItem_dropWrapper__w9Kg_",dropZone:"EntryItem_dropZone__xtwAA"}},4562:e=>{e.exports={editButtonIcon:"Icon_editButtonIcon__KR4gW"}},5298:(e,r,n)=>{"use strict";n.d(r,{Ten:()=>L});var t=n(5155),l=n(8769),a=n(4540);let d=a.wA.withTypes(),s=a.d4.withTypes();a.Pj.withTypes();var i=n(2115),o=n(9207),u=n.n(o);let c=(e,r)=>(0,i.useMemo)(()=>e?()=>e(r):void 0,[e,r]),v=e=>{let{children:r,id:n,value:l,index:a,length:d,dragIndex:s,onDragStartIndex:i,onDragEnd:o,onDropIndex:u,onArchiveIndex:v,onDownIndex:p,onUpIndex:h}=e,m=a===s;o=m?o:void 0,u=m?void 0:u,v=l?v:void 0,p=a<d-1?p:void 0,h=a>0?h:void 0;let x=c(i,a),_=c(u,a),I=c(v,a),f=c(p,a),j=c(h,a);return(0,t.jsx)(r,{id:n,value:l,onDragStart:x,onDragEnd:o,onDrop:_,onArchive:I,onUp:j,onDown:f})},p=e=>{let{children:r,fresh:n,onArchiveIndex:l,onDownIndex:a,onUpIndex:d,dragIndex:s,onDragStartIndex:i,onDropIndex:o,onDragEnd:c}=e,p=n.length;return(0,t.jsx)("ul",{className:u().entryList,children:n.map((e,n)=>{let{id:h,value:m}=e;return(0,t.jsx)("li",{className:u().entryItem,children:(0,t.jsx)(v,{id:h,value:null!=m?m:void 0,index:n,length:p,dragIndex:s,onDragStartIndex:i,onDragEnd:c,onDropIndex:o,onArchiveIndex:l,onDownIndex:a,onUpIndex:d,children:r})},h)})})},h=e=>{let{children:r,fresh:n,onArchiveIndex:l,onSwapIndices:a,onDownIndex:d,onUpIndex:s}=e,[o,u]=(0,i.useState)(null),c=null!=o,v=(0,i.useMemo)(()=>{if(!c)return e=>u(e)},[c]),h=(0,i.useMemo)(()=>{if(c)return()=>u(null)},[c]),m=(0,i.useMemo)(()=>{if(a&&null!==o)return e=>{a(o,e),u(null)}},[o,a]);return(0,t.jsx)(p,{fresh:n,onArchiveIndex:l,onDownIndex:d,onUpIndex:s,dragIndex:null!=o?o:void 0,onDragStartIndex:v,onDropIndex:m,onDragEnd:h,children:r})};var m=n(1540),x=n.n(m);let _=e=>{let{children:r,...n}=e;return(0,t.jsx)("div",{className:x().editButtonWrapper,children:(0,t.jsx)("button",{...n,className:x().editButton,children:r})})};var I=n(4562),f=n.n(I);let j=e=>{let{children:r}=e;return(0,t.jsx)("div",{className:f().editButtonIcon,children:r})};var b=n(3799),y=n.n(b);let D=e=>{let{onDragStart:r,onDragEnd:n}=e,l=!!n,a=!!r,d=(0,i.useMemo)(()=>{if(r)return e=>{e.dataTransfer.effectAllowed="move",r()}},[r]),s=(0,i.useMemo)(()=>{if(n)return e=>{e.preventDefault(),n()}},[n]);return(0,t.jsx)("div",{className:y().grabberWrapper,onDragStart:d,onDragEnd:s,children:(0,t.jsx)("div",{className:y().grabber,draggable:!!a||void 0,"data-dragging":l,children:(0,t.jsx)("div",{className:y().grabberIcon,children:"="})})})},g=e=>["move","copyMove","linkMove","all","uninitialized"].includes(e),E=e=>{let{children:r,onDrop:n}=e,l=!n,a=(0,i.useMemo)(()=>{if(n)return e=>{"move"===e.dataTransfer.dropEffect&&(e.preventDefault(),n())}},[n]),d=(0,i.useMemo)(()=>{if(!l)return e=>{g(e.dataTransfer.effectAllowed)&&(e.preventDefault(),e.dataTransfer.dropEffect="move")}},[l]),[s,o]=(0,i.useState)(!1),u=(0,i.useMemo)(()=>{if(!l)return e=>{"move"===e.dataTransfer.dropEffect&&(e.preventDefault(),o(!0))}},[l]),c=(0,i.useCallback)(()=>o(!1),[]);return(0,t.jsxs)("div",{className:y().dropWrapper,children:[(0,t.jsx)("div",{className:y().dropZone,"data-disabled":l?"disabled":void 0,"data-hover":s?"hover":void 0,onDrop:a,onDragOver:d,onDragEnter:u,onDragLeave:c}),r]})},k=e=>{let{id:r,onDragStart:n,onDragEnd:l,onArchive:a,onUp:d,onDown:s}=e,o=(0,i.useCallback)(e=>{switch(e.nativeEvent.submitter.value){case"archive":a&&(e.preventDefault(),a());break;case"up":d&&(e.preventDefault(),d());break;case"down":s&&(e.preventDefault(),s());break;default:return}},[a,d,s]);return(0,t.jsxs)("form",{onSubmit:o,id:r,action:"#",className:y().entryForm,children:[(0,t.jsx)(D,{onDragStart:n,onDragEnd:l}),(0,t.jsxs)("div",{className:y().moveButtons,children:[(0,t.jsx)(_,{disabled:!d,value:"up",children:(0,t.jsx)(j,{children:"↑"})}),(0,t.jsx)(_,{disabled:!s,value:"down",children:(0,t.jsx)(j,{children:"↓"})})]}),(0,t.jsx)(_,{disabled:!a,value:"archive",children:"Archive"})]})},F=e=>{let{children:r,onDragStart:n,onDragEnd:l,onDrop:a,onArchive:d,onUp:s,onDown:o}=e,u=(0,i.useId)();return(0,t.jsx)(E,{onDrop:a,children:(0,t.jsxs)("div",{className:y().entryItem,children:[(0,t.jsx)(k,{id:u,onDragStart:n,onDragEnd:l,onArchive:d,onUp:s,onDown:o}),r]})})},w=e=>{let{cond:r,children:n}=e;return r?n:null};var C=n(5888),N=n.n(C);let M=e=>{let{value:r,id:n,onChange:l,onDeselect:a}=e,d=(0,i.useCallback)(e=>{l&&a&&(e.preventDefault(),l(r),a())},[a,l,r]);return(0,t.jsx)("form",{className:N().editMenu,id:n,action:"#",onSubmit:d,children:(0,t.jsx)(_,{disabled:!l,children:(0,t.jsx)(j,{children:"✔"})})})},A=e=>{let{value:r,onChange:n,selected:l,onSelect:a,onDeselect:d}=e,s=(0,i.useId)(),o=(0,i.useId)(),u=(0,i.useId)(),[c,v]=(0,i.useState)(null!=r?r:""),p=(0,i.useCallback)(e=>{e.preventDefault(),l?d():(v(null!=r?r:""),a())},[a,d,l,r]),h=(0,i.useCallback)(e=>{let{target:r}=e;r&&(e.preventDefault(),v(r.value))},[]),m=l?"X":r?"✎":"+";return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:N().editableTitle,children:[(0,t.jsx)(_,{id:u,onClick:p,"aria-expanded":l,"aria-controls":o,children:(0,t.jsx)(j,{children:m})}),(0,t.jsxs)("div",{id:o,className:N().titleAndInput,children:[(0,t.jsx)("div",{className:N().title,children:null!=r?r:"..."}),(0,t.jsx)(w,{cond:l,children:(0,t.jsx)("div",{className:N().inputWrapper,children:(0,t.jsx)("input",{className:N().input,form:s,value:c,onChange:h})})})]})]}),(0,t.jsx)("div",{className:N().menuWrapper,children:(0,t.jsx)(w,{cond:l,children:(0,t.jsx)(M,{value:c,id:s,onChange:n,onDeselect:d})})})]})},S=e=>{let{value:r,selected:n,onDeselect:l,onSelect:a,onEdit:d}=e;return(0,t.jsx)("div",{className:N().entryForm,children:(0,t.jsx)("div",{className:N().editForm,children:(0,t.jsx)(A,{selected:n,value:r,onChange:d,onSelect:a,onDeselect:l})})})};var W=n(7202);let T=e=>{let{id:r,value:n,selectionId:l,onEditId:a,onSelectId:d,onDeselect:s}=e,o=l===r,u=(0,i.useCallback)(()=>d(r),[r,d]),c=(0,i.useMemo)(()=>{if(a)return e=>a(r,e)},[r,a]);return(0,t.jsx)(S,{value:n,selected:o,onSelect:u,onDeselect:s,onEdit:c})},B=e=>{let{fresh:r,archived:n,onEditId:l,onArchiveIndex:a,onSwapIndices:d,onUpIndex:s,onDownIndex:o}=e,[u,c]=(0,i.useState)(null),v=(0,i.useCallback)(e=>c(e),[]),p=(0,i.useCallback)(()=>c(null),[]),m=(0,i.useMemo)(()=>r.reduce((e,r)=>+(null!=r.value)+e,0),[r]);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("section",{children:[(0,t.jsxs)("h1",{children:[m," / 10"]}),(0,t.jsx)(h,{fresh:r,onArchiveIndex:a,onSwapIndices:d,onDownIndex:o,onUpIndex:s,children:e=>{let{id:r,value:n,...a}=e;return(0,t.jsx)(F,{...a,children:(0,t.jsx)(T,{selectionId:null!=u?u:void 0,onEditId:l,id:r,value:n,onSelectId:v,onDeselect:p})})}})]}),(0,t.jsxs)("section",{children:[(0,t.jsx)("h2",{children:"Archived"}),(0,t.jsx)("ul",{children:n.map(e=>{let{id:r,value:n}=e;return(0,t.jsx)("li",{children:n},r)})})]})]})},U=[{id:0,value:null},{id:1,value:null},{id:2,value:null},{id:3,value:null},{id:4,value:null},{id:5,value:null},{id:6,value:null},{id:7,value:null},{id:8,value:null},{id:9,value:null}],L=()=>{let e=d(),r=(0,i.useCallback)((r,n)=>e((0,l.hc)({id:r,value:n})),[e]),n=(0,i.useCallback)(r=>e((0,l.rD)({index:r})),[e]),a=(0,i.useCallback)((r,n)=>e((0,l.wg)({leftIndex:r,rightIndex:n})),[e]),o=(0,i.useCallback)(r=>e((0,l.up)({index:r})),[e]),u=(0,i.useCallback)(r=>e((0,l.TR)({index:r})),[e]),c=s(l.Pk),v=s(l.pJ),p=(0,W.J)();return(0,t.jsx)(B,{fresh:p?c:U,archived:p?v:[],onEditId:p?r:void 0,onArchiveIndex:p?n:void 0,onSwapIndices:p?a:void 0,onDownIndex:p?u:void 0,onUpIndex:p?o:void 0})}},5888:e=>{e.exports={editForm:"EntryForm_editForm__YhAuY",entryForm:"EntryForm_entryForm__MmFvs",options:"EntryForm_options__Q_SUy",editFormWrapper:"EntryForm_editFormWrapper__MEhIK",editableTitle:"EntryForm_editableTitle__HDoZ6",titleAndInput:"EntryForm_titleAndInput__fT8K_",title:"EntryForm_title__3RtFH",inputWrapper:"EntryForm_inputWrapper__7OcEZ",input:"EntryForm_input__3tr5U",menuWrapper:"EntryForm_menuWrapper__mj_rF",editMenu:"EntryForm_editMenu__z3yC0"}},7202:(e,r,n)=>{"use strict";n.d(r,{StoreProvider:()=>_,J:()=>x});var t=n(5155),l=n(5710),a=n(1328),d=n(8091),s=n(8769);let i={key:"root3",storage:d.A},o=(0,a.rL)(i,(0,l.fP)(s.C9)),u=()=>(0,l.U1)({reducer:o,middleware:e=>e({serializableCheck:{ignoredActions:["persist/PERSIST","persist/REHYDRATE"]}})});var c=n(4317),v=n(2115),p=n(4540),h=n(7730);let m=(0,v.createContext)(!1),x=()=>(0,v.useContext)(m),_=e=>{let{children:r}=e,n=(0,v.useRef)(null);if(!n.current){let e=u(),r=(0,a.GM)(e);n.current={store:e,persistor:r}}(0,v.useEffect)(()=>{let e=n.current;if(e)return(0,c.$k)(e.store.dispatch)},[]);let l=n.current;return l?(0,t.jsx)(p.Kq,{store:l.store,children:(0,t.jsx)(h.Q,{persistor:l.persistor,children:e=>(0,t.jsx)(m.Provider,{value:e,children:r})})}):null}},7655:(e,r,n)=>{Promise.resolve().then(n.bind(n,5298))},8769:(e,r,n)=>{"use strict";n.d(r,{C9:()=>s,Pk:()=>p,TR:()=>v,hc:()=>i,pJ:()=>h,rD:()=>o,up:()=>c,wg:()=>u});var t=n(5710),l=n(8924);let a=(()=>{let e=Array(10).fill(null),r=e.map((e,r)=>r);return{entries:e,freshId:r,archivedId:[]}})(),d=e=>e.entries,s=(0,t.Z0)({name:"ten",initialState:a,reducers:e=>({edit:e.reducer((e,r)=>{let{payload:{id:n,value:t}}=r;e.entries[n]=t}),archive:e.reducer((e,r)=>{let{payload:{index:n}}=r,t=e.freshId[n];e.freshId[n]=e.entries.length,e.entries.push(null),e.archivedId=[t,...e.archivedId]}),swap:e.reducer((e,r)=>{let{payload:{leftIndex:n,rightIndex:t}}=r,l=e.freshId[n];e.freshId[n]=e.freshId[t],e.freshId[t]=l}),up:e.reducer((e,r)=>{let{payload:{index:n}}=r,t=(10+n-1)%10,l=e.freshId[n];e.freshId[n]=e.freshId[t],e.freshId[t]=l}),down:e.reducer((e,r)=>{let{payload:{index:n}}=r,t=(n+1)%10,l=e.freshId[n];e.freshId[n]=e.freshId[t],e.freshId[t]=l})}),selectors:{selectFresh:(0,l.Mz)([d,e=>e.freshId],(e,r)=>r.map(r=>({id:r,value:e[r]}))),selectArchived:(0,l.Mz)([d,e=>e.archivedId],(e,r)=>r.map(r=>({id:r,value:e[r]})))}}),{edit:i,archive:o,swap:u,up:c,down:v}=s.actions,{selectFresh:p,selectArchived:h}=s.selectors},9207:e=>{e.exports={entryList:"EntryList_entryList__bGwc1",entryItem:"EntryList_entryItem__kaLfY"}}},e=>{var r=r=>e(e.s=r);e.O(0,[560,155,441,684,358],()=>r(7655)),_N_E=e.O()}]);