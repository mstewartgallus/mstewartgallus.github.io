(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1540:e=>{e.exports={editButtonWrapper:"Button_editButtonWrapper__ZWMM7",editButton:"Button_editButton__v1DIC"}},3799:e=>{e.exports={entryItem:"EntryItem_entryItem__G5bXq",entryForm:"EntryItem_entryForm__D2Qbr",grabberWrapper:"EntryItem_grabberWrapper__Z0k5M",grabber:"EntryItem_grabber__1lAJT",grabberIcon:"EntryItem_grabberIcon__nJUdF",moveButtons:"EntryItem_moveButtons__j8B5C",dropWrapper:"EntryItem_dropWrapper__w9Kg_",dropZone:"EntryItem_dropZone__xtwAA"}},4562:e=>{e.exports={editButtonIcon:"Icon_editButtonIcon__KR4gW"}},5298:(e,r,t)=>{"use strict";t.d(r,{Ten:()=>L});var n=t(5155),l=t(8769),s=t(4540);let i=s.wA.withTypes(),a=s.d4.withTypes();s.Pj.withTypes();var d=t(2115),u=t(9207),o=t.n(u);let c=(e,r)=>(0,d.useMemo)(()=>e?()=>e(r):void 0,[e,r]),p=e=>{let{children:r,id:t,value:l,index:s,dragIndex:i,onDragStartIndex:a,onDragEnd:d,onDropIndex:u,onArchiveIndex:o}=e,p=s===i;d=p?d:void 0,u=p?void 0:u,o=l?o:void 0;let v=c(a,s),h=c(u,s),m=c(o,s);return(0,n.jsx)(r,{id:t,value:l,onDragStart:v,onDragEnd:d,onDrop:h,onArchive:m})},v=e=>{let{children:r,fresh:t,onArchiveIndex:l,dragIndex:s,onDragStartIndex:i,onDropIndex:a,onDragEnd:u}=e,c=t.length,v=(0,d.useMemo)(()=>{if(u)return e=>{0===e.button&&u()}},[u]);return(0,n.jsx)("ul",{className:o().entryList,onTouchCancel:u,onTouchEnd:u,onMouseUp:v,onMouseLeave:v,children:t.map((e,t)=>{let{id:d,value:v}=e;return(0,n.jsx)("li",{className:o().entryItem,children:(0,n.jsx)(p,{id:d,value:null!=v?v:void 0,index:t,length:c,dragIndex:s,onDragStartIndex:i,onDragEnd:u,onDropIndex:a,onArchiveIndex:l,children:r})},d)})})},h=e=>{let{children:r,fresh:t,onArchiveIndex:l,onSwapIndices:s}=e,[i,a]=(0,d.useState)(null),u=null!=i,o=(0,d.useMemo)(()=>{if(!u)return e=>a(e)},[u]),c=(0,d.useMemo)(()=>{if(u)return()=>a(null)},[u]),p=(0,d.useMemo)(()=>{if(s&&null!==i)return e=>{s(i,e),a(null)}},[i,s]);return(0,n.jsx)(v,{fresh:t,onArchiveIndex:l,dragIndex:null!=i?i:void 0,onDragStartIndex:o,onDropIndex:p,onDragEnd:c,children:r})};var m=t(1540),_=t.n(m);let x=e=>{let{children:r,...t}=e;return(0,n.jsx)("div",{className:_().editButtonWrapper,children:(0,n.jsx)("button",{...t,className:_().editButton,children:r})})};var b=t(3799),I=t.n(b);let j=e=>{let{onDragStart:r,onDragEnd:t}=e,l=(0,d.useRef)(null),s=!!r,i=r||t,a=(0,d.useMemo)(()=>{if(i)return e=>{0===e.button&&(e.preventDefault(),i())}},[i]),u=(0,d.useMemo)(()=>{if(s)return e=>{if(0!==e.button)return;let{current:r}=l;r&&(e.preventDefault(),r.click())}},[s]);return(0,n.jsx)("div",{className:I().grabberWrapper,children:(0,n.jsx)("button",{ref:l,className:I().grabber,"aria-expanded":!!t,disabled:!a||void 0,onMouseDown:u,onClick:a,children:(0,n.jsx)("div",{className:I().grabberIcon,children:"="})})})},f=e=>{let{children:r,onDrop:t}=e,l=!t,s=(0,d.useRef)(null),i=(0,d.useMemo)(()=>{if(t)return e=>{0===e.button&&(e.preventDefault(),t())}},[t]),a=(0,d.useMemo)(()=>{if(t)return e=>{if(0!==e.button)return;let{current:r}=s;r&&(e.preventDefault(),r.click())}},[t]),u=(0,d.useMemo)(()=>{if(t)return e=>{let{current:r}=s;r&&(e.preventDefault(),r.click())}},[t]);return(0,n.jsxs)("div",{className:I().dropWrapper,children:[(0,n.jsx)("button",{className:I().dropZone,ref:s,disabled:!!l||void 0,onMouseUp:a,onTouchStart:u,onClick:i}),r]})},y=e=>{let{id:r,onDragStart:t,onDragEnd:l,onArchive:s}=e,i=(0,d.useCallback)(e=>{"archive"===e.nativeEvent.submitter.value&&s&&(e.preventDefault(),s())},[s]);return(0,n.jsxs)("form",{onSubmit:i,id:r,action:"#",className:I().entryForm,children:[(0,n.jsx)(j,{onDragStart:t,onDragEnd:l}),(0,n.jsx)(x,{disabled:!t||!s,value:"archive",children:"Archive"})]})},E=e=>{let{children:r,onDragStart:t,onDragEnd:l,onDrop:s,onArchive:i}=e,a=(0,d.useId)();return(0,n.jsx)(f,{onDrop:s,children:(0,n.jsxs)("div",{className:I().entryItem,children:[(0,n.jsx)(y,{id:a,onDragStart:t,onDragEnd:l,onArchive:i}),r]})})},g=e=>{let{cond:r,children:t}=e;return r?t:null};var D=t(4562),F=t.n(D);let k=e=>{let{children:r}=e;return(0,n.jsx)("div",{className:F().editButtonIcon,children:r})};var C=t(5888),M=t.n(C);let N=e=>{let{disabled:r,value:t,id:l,onChange:s,onDeselect:i}=e,a=(0,d.useCallback)(e=>{s&&i&&(e.preventDefault(),s(t),i())},[i,s,t]);return(0,n.jsx)("form",{className:M().editMenu,id:l,action:"#",onSubmit:a,children:(0,n.jsx)(x,{disabled:r||!s,children:(0,n.jsx)(k,{children:"✔"})})})},A=e=>{let{disabled:r,value:t,onChange:l,selected:s,onSelect:i,onDeselect:a}=e,u=(0,d.useId)(),o=(0,d.useId)(),c=(0,d.useId)(),[p,v]=(0,d.useState)(null!=t?t:""),h=(0,d.useCallback)(e=>{e.preventDefault(),s?a():(v(null!=t?t:""),i())},[i,a,s,t]),m=(0,d.useCallback)(e=>{let{target:r}=e;r&&(e.preventDefault(),v(r.value))},[]),_=s?"X":t?"✎":"+";return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:M().editableTitle,children:[(0,n.jsx)(x,{id:c,disabled:r,onClick:h,"aria-expanded":s,"aria-controls":o,children:(0,n.jsx)(k,{children:_})}),(0,n.jsxs)("div",{id:o,className:M().titleAndInput,children:[(0,n.jsx)("div",{className:M().title,children:null!=t?t:"..."}),(0,n.jsx)(g,{cond:s,children:(0,n.jsx)("div",{className:M().inputWrapper,children:(0,n.jsx)("input",{disabled:r,className:M().input,form:u,value:p,onChange:m})})})]})]}),(0,n.jsx)("div",{className:M().menuWrapper,children:(0,n.jsx)(g,{cond:s,children:(0,n.jsx)(N,{disabled:r,value:p,id:u,onChange:l,onDeselect:a})})})]})},S=e=>{let{disabled:r,value:t,selected:l,onDeselect:s,onSelect:i,onEdit:a}=e;return(0,n.jsx)("div",{className:M().entryForm,children:(0,n.jsx)("div",{className:M().editForm,children:(0,n.jsx)(A,{disabled:r,selected:l,value:t,onChange:a,onSelect:i,onDeselect:s})})})};var W=t(7202);let w=e=>{let{disabled:r,id:t,value:l,selectionId:s,onEditId:i,onSelectId:a,onDeselect:u}=e,o=s===t,c=(0,d.useCallback)(()=>a(t),[t,a]),p=(0,d.useMemo)(()=>{if(i)return e=>i(t,e)},[t,i]);return(0,n.jsx)(S,{disabled:r,value:l,selected:o,onSelect:c,onDeselect:u,onEdit:p})},B=e=>{let{fresh:r,archived:t,onEditId:l,onArchiveIndex:s,onSwapIndices:i}=e,[a,u]=(0,d.useState)(null),o=(0,d.useCallback)(e=>u(e),[]),c=(0,d.useCallback)(()=>u(null),[]),p=(0,d.useMemo)(()=>r.reduce((e,r)=>+(null!=r.value)+e,0),[r]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("section",{children:[(0,n.jsxs)("h1",{children:[p," / 10"]}),(0,n.jsx)(h,{fresh:r,onArchiveIndex:s,onSwapIndices:i,children:e=>{let{id:r,value:t,...s}=e;return(0,n.jsx)(E,{...s,children:(0,n.jsx)(w,{disabled:!!s.onDrop||!s.onDragStart,id:r,value:t,selectionId:null!=a?a:void 0,onEditId:l,onSelectId:o,onDeselect:c})})}})]}),(0,n.jsxs)("section",{children:[(0,n.jsx)("h2",{children:"Archived"}),(0,n.jsx)("ul",{children:t.map(e=>{let{id:r,value:t}=e;return(0,n.jsx)("li",{children:t},r)})})]})]})},T=[{id:0,value:null},{id:1,value:null},{id:2,value:null},{id:3,value:null},{id:4,value:null},{id:5,value:null},{id:6,value:null},{id:7,value:null},{id:8,value:null},{id:9,value:null}],L=()=>{let e=i(),r=(0,d.useCallback)((r,t)=>e((0,l.hc)({id:r,value:t})),[e]),t=(0,d.useCallback)(r=>e((0,l.rD)({index:r})),[e]),s=(0,d.useCallback)((r,t)=>e((0,l.wg)({leftIndex:r,rightIndex:t})),[e]),u=a(l.Pk),o=a(l.pJ),c=(0,W.J)();return(0,n.jsx)(B,{fresh:c?u:T,archived:c?o:[],onEditId:c?r:void 0,onArchiveIndex:c?t:void 0,onSwapIndices:c?s:void 0})}},5888:e=>{e.exports={editForm:"EntryForm_editForm__YhAuY",entryForm:"EntryForm_entryForm__MmFvs",options:"EntryForm_options__Q_SUy",editFormWrapper:"EntryForm_editFormWrapper__MEhIK",editableTitle:"EntryForm_editableTitle__HDoZ6",titleAndInput:"EntryForm_titleAndInput__fT8K_",title:"EntryForm_title__3RtFH",inputWrapper:"EntryForm_inputWrapper__7OcEZ",input:"EntryForm_input__3tr5U",menuWrapper:"EntryForm_menuWrapper__mj_rF",editMenu:"EntryForm_editMenu__z3yC0"}},7202:(e,r,t)=>{"use strict";t.d(r,{StoreProvider:()=>x,J:()=>_});var n=t(5155),l=t(5710),s=t(1328),i=t(8091),a=t(8769);let d={key:"root3",storage:i.A},u=(0,s.rL)(d,(0,l.fP)(a.C9)),o=()=>(0,l.U1)({reducer:u,middleware:e=>e({serializableCheck:{ignoredActions:["persist/PERSIST","persist/REHYDRATE"]}})});var c=t(4317),p=t(2115),v=t(4540),h=t(7730);let m=(0,p.createContext)(!1),_=()=>(0,p.useContext)(m),x=e=>{let{children:r}=e,t=(0,p.useRef)(null);if(!t.current){let e=o(),r=(0,s.GM)(e);t.current={store:e,persistor:r}}(0,p.useEffect)(()=>{let e=t.current;if(e)return(0,c.$k)(e.store.dispatch)},[]);let l=t.current;return l?(0,n.jsx)(v.Kq,{store:l.store,children:(0,n.jsx)(h.Q,{persistor:l.persistor,children:e=>(0,n.jsx)(m.Provider,{value:e,children:r})})}):null}},7655:(e,r,t)=>{Promise.resolve().then(t.bind(t,5298))},8769:(e,r,t)=>{"use strict";t.d(r,{C9:()=>a,Pk:()=>c,hc:()=>d,pJ:()=>p,rD:()=>u,wg:()=>o});var n=t(5710),l=t(8924);let s=(()=>{let e=Array(10).fill(null),r=e.map((e,r)=>r);return{entries:e,freshId:r,archivedId:[]}})(),i=e=>e.entries,a=(0,n.Z0)({name:"ten",initialState:s,reducers:e=>({edit:e.reducer((e,r)=>{let{payload:{id:t,value:n}}=r;e.entries[t]=n}),archive:e.reducer((e,r)=>{let{payload:{index:t}}=r,n=e.freshId[t];e.freshId[t]=e.entries.length,e.entries.push(null),e.archivedId=[n,...e.archivedId]}),swap:e.reducer((e,r)=>{let{payload:{leftIndex:t,rightIndex:n}}=r,l=e.freshId[t];e.freshId[t]=e.freshId[n],e.freshId[n]=l})}),selectors:{selectFresh:(0,l.Mz)([i,e=>e.freshId],(e,r)=>r.map(r=>({id:r,value:e[r]}))),selectArchived:(0,l.Mz)([i,e=>e.archivedId],(e,r)=>r.map(r=>({id:r,value:e[r]})))}}),{edit:d,archive:u,swap:o}=a.actions,{selectFresh:c,selectArchived:p}=a.selectors},9207:e=>{e.exports={entryList:"EntryList_entryList__bGwc1",entryItem:"EntryList_entryItem__kaLfY"}}},e=>{var r=r=>e(e.s=r);e.O(0,[560,155,441,684,358],()=>r(7655)),_N_E=e.O()}]);