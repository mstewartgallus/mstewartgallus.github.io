(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{786:(e,r,t)=>{"use strict";t.d(r,{Ten:()=>P});var n=t(5155),l=t(8769),s=t(1826),a=t(2115),i=t(1540),d=t.n(i);let u=e=>{let{children:r,...t}=e;return(0,n.jsx)("div",{className:d().editButtonWrapper,children:(0,n.jsx)("button",{...t,className:d().editButton,children:r})})};var o=t(4948),c=t(9207),m=t.n(c),v=t(2280),p=t.n(v);let h=(0,a.createContext)({dragging:!1,anyDragging:!1,index:0});h.displayName="ItemContext";let _=(0,a.createContext)({dragIndex:0});_.displayName="ListContext";let x=e=>{let{children:r,index:t}=e,{dragIndex:l}=(0,a.useContext)(_),s=l==t,i=void 0!==l,d=(0,a.useMemo)(()=>({anyDragging:i,dragging:s,index:t}),[i,s,t]);return(0,n.jsx)(h.Provider,{value:d,children:r})},b=e=>{let{dragging:r,onDragStart:t,onDragEnd:l}=e,s=(0,a.useCallback)(e=>{0===e.button&&e.preventDefault()},[]),i=(0,a.useMemo)(()=>{if(t)return e=>{0===e.button&&(e.preventDefault(),t())}},[t]),d=(0,a.useMemo)(()=>{if(l)return e=>{0===e.button&&l()}},[l]);return(0,o.Wj)(d),(0,o.Kl)(l),(0,o.oE)(r?"grabbing":void 0),(0,n.jsx)("div",{className:p().grabberWrapper,children:(0,n.jsx)("button",{className:p().grabber,"aria-expanded":r,onMouseDown:i,onClick:s,tabIndex:-1,children:(0,n.jsx)("div",{className:p().grabberIcon,children:"="})})})},j=e=>{let{children:r,onDrop:t}=e,[l,s]=(0,a.useState)(!1),i=(0,a.useMemo)(()=>{if(t)return()=>s(!0)},[t]),d=(0,a.useMemo)(()=>{if(t)return()=>s(!1)},[t]),u=(0,a.useMemo)(()=>{if(t)return e=>{0===e.button&&t()}},[t]),o=(0,a.useCallback)(e=>{0===e.button&&e.preventDefault()},[]);return!t&&l?void s(!1):(0,n.jsxs)("div",{className:p().dropWrapper,children:[(0,n.jsx)("button",{className:p().dropZone,onMouseEnter:i,onMouseLeave:d,onMouseUp:u,onClick:o,disabled:!t||void 0,"data-over":l?"true":void 0,tabIndex:-1}),r]})},y=e=>{let{id:r,dragging:t,onDragStart:l,onDragEnd:s,onArchive:i}=e,d=(0,a.useCallback)(e=>{e.preventDefault(),"archive"===e.nativeEvent.submitter.value&&i&&(e.preventDefault(),i())},[i]);return(0,n.jsxs)("form",{id:r,onSubmit:d,action:"#",className:p().entryForm,children:[(0,n.jsx)(b,{dragging:t,onDragStart:l,onDragEnd:s}),(0,n.jsx)(u,{disabled:!l||!i,value:"archive",children:"Archive"})]})},I=(e,r)=>(0,a.useMemo)(()=>e?()=>e(r):void 0,[e,r]),f=e=>{let{children:r}=e,t=(0,a.useId)(),{anyDragging:l,dragging:s,index:i}=(0,a.useContext)(h),{onDragStartIndex:d,onDragEnd:u,onDropIndex:o,onArchiveIndex:c}=(0,a.useContext)(_),m=I(d,i),v=I(o,i),x=I(c,i),b=l&&!s;return(0,n.jsx)(j,{onDrop:b?v:void 0,children:(0,n.jsxs)("div",{className:p().entryItem,children:[(0,n.jsx)(y,{id:t,anyDragging:l,dragging:s,onDragStart:s?void 0:m,onDragEnd:s?u:void 0,onArchive:l?void 0:x}),r]})})},g=e=>{let{children:r,fresh:t,onArchiveIndex:l,onSwapIndices:s}=e,[i,d]=(0,a.useState)(null),u=null!==i,o=(0,a.useMemo)(()=>{if(!u)return e=>d(e)},[u]),c=(0,a.useMemo)(()=>{if(u)return()=>d(null)},[u]),v=(0,a.useMemo)(()=>{if(s&&u)return e=>{s(i,e),d(null)}},[i,u,s]),p=(0,a.useMemo)(()=>({dragIndex:null!=i?i:void 0,onDragStartIndex:o,onDragEnd:c,onDropIndex:v,onArchiveIndex:l}),[i,o,c,v,l]);return(0,n.jsx)("ul",{className:m().entryList,children:(0,n.jsx)(_.Provider,{value:p,children:t.map((e,t)=>{let{id:l,value:s}=e;return(0,n.jsx)("li",{className:m().entryItem,children:(0,n.jsx)(x,{index:t,children:(0,n.jsx)(r,{value:null!=s?s:void 0,id:l,disabled:null!==i})})},l)})})})},E=e=>{let{cond:r,children:t}=e;return r?t:null};var M=t(4562),C=t.n(M);let k=e=>{let{children:r}=e;return(0,n.jsx)("div",{className:C().editButtonIcon,children:r})};var D=t(5888),F=t.n(D);let N=e=>{let{disabled:r,value:t,id:l,onChange:s,onDeselect:i}=e,d=(0,a.useCallback)(e=>{s&&i&&(e.preventDefault(),s(t),i())},[i,s,t]);return(0,n.jsx)("form",{className:F().editMenu,id:l,action:"#",onSubmit:d,children:(0,n.jsx)(u,{disabled:r||!s,children:(0,n.jsx)(k,{children:"✔"})})})},S=e=>{let{disabled:r,value:t,onChange:l,selected:s,onSelect:i,onDeselect:d}=e,o=(0,a.useId)(),c=(0,a.useId)(),m=(0,a.useId)(),[v,p]=(0,a.useState)(null!=t?t:""),h=(0,a.useCallback)(e=>{e.preventDefault(),s?d():(p(null!=t?t:""),i())},[i,d,s,t]),_=(0,a.useCallback)(e=>{let{target:r}=e;r&&(e.preventDefault(),p(r.value))},[]),x=s?"X":t?"✎":"+";return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:F().editableTitle,children:[(0,n.jsx)(u,{id:m,disabled:r,onClick:h,"aria-expanded":s,"aria-controls":c,children:(0,n.jsx)(k,{children:x})}),(0,n.jsxs)("div",{id:c,className:F().titleAndInput,children:[(0,n.jsx)("div",{className:F().title,children:null!=t?t:"..."}),(0,n.jsx)(E,{cond:s,children:(0,n.jsx)("div",{className:F().inputWrapper,children:(0,n.jsx)("input",{disabled:r,className:F().input,form:o,value:v,onChange:_})})})]})]}),(0,n.jsx)("div",{className:F().menuWrapper,children:(0,n.jsx)(E,{cond:s,children:(0,n.jsx)(N,{disabled:r,value:v,id:o,onChange:l,onDeselect:d})})})]})},A=e=>{let{disabled:r,value:t,selected:l,onDeselect:s,onSelect:a,onEdit:i}=e;return(0,n.jsx)("div",{className:F().entryForm,children:(0,n.jsx)("div",{className:F().editForm,children:(0,n.jsx)(S,{disabled:r,selected:l,value:t,onChange:i,onSelect:a,onDeselect:s})})})};var W=t(7202);let L=e=>{let{id:r,value:t,disabled:l,selectionId:s,onEditId:i,onSelectId:d,onDeselect:u}=e,o=s===r,c=(0,a.useCallback)(()=>d(r),[r,d]),m=(0,a.useMemo)(()=>{if(i)return e=>i(r,e)},[r,i]);return(0,n.jsx)(A,{disabled:l,value:t,selected:o,onSelect:c,onDeselect:u,onEdit:m})},w=e=>{let{fresh:r,archived:t,onEditId:l,onArchiveIndex:s,onSwapIndices:i}=e,[d,u]=(0,a.useState)(null),o=(0,a.useCallback)(e=>u(e),[]),c=(0,a.useCallback)(()=>u(null),[]),m=(0,a.useMemo)(()=>r.reduce((e,r)=>+(null!=r.value)+e,0),[r]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("section",{children:[(0,n.jsxs)("h1",{children:[m," / 10"]}),(0,n.jsx)(g,{fresh:r,onArchiveIndex:s,onSwapIndices:i,children:e=>{let{id:r,value:t,disabled:s}=e;return(0,n.jsx)(f,{children:(0,n.jsx)(L,{id:r,value:t,disabled:s,selectionId:null!=d?d:void 0,onEditId:l,onSelectId:o,onDeselect:c})})}})]}),(0,n.jsxs)("section",{children:[(0,n.jsx)("h2",{children:"Archived"}),(0,n.jsx)("ul",{children:t.map(e=>{let{id:r,value:t}=e;return(0,n.jsx)("li",{children:t},r)})})]})]})},B=[{id:0,value:null},{id:1,value:null},{id:2,value:null},{id:3,value:null},{id:4,value:null},{id:5,value:null},{id:6,value:null},{id:7,value:null},{id:8,value:null},{id:9,value:null}],P=()=>{let e=(0,s.jL)(),r=(0,a.useCallback)((r,t)=>e((0,l.hc)({id:r,value:t})),[e]),t=(0,a.useCallback)(r=>e((0,l.rD)({index:r})),[e]),i=(0,a.useCallback)((r,t)=>e((0,l.wg)({leftIndex:r,rightIndex:t})),[e]),d=(0,s.GV)(l.Pk),u=(0,s.GV)(l.pJ),o=(0,W.J)();return(0,n.jsx)(w,{fresh:o?d:B,archived:o?u:[],onEditId:o?r:void 0,onArchiveIndex:o?t:void 0,onSwapIndices:o?i:void 0})}},1540:e=>{e.exports={editButtonWrapper:"Button_editButtonWrapper__ZWMM7",editButton:"Button_editButton__v1DIC"}},1826:(e,r,t)=>{"use strict";t.d(r,{GV:()=>s,jL:()=>l});var n=t(4540);let l=n.wA.withTypes(),s=n.d4.withTypes();n.Pj.withTypes()},2280:e=>{e.exports={entryItem:"EntryItem_entryItem__Q6VA3",entryForm:"EntryItem_entryForm__21A1c",grabberWrapper:"EntryItem_grabberWrapper__jz2hH",grabber:"EntryItem_grabber__SkCea",grabberIcon:"EntryItem_grabberIcon__xc_f3",moveButtons:"EntryItem_moveButtons__746OK",dropWrapper:"EntryItem_dropWrapper__AxBnz",dropZone:"EntryItem_dropZone__ukUOa"}},4562:e=>{e.exports={editButtonIcon:"Icon_editButtonIcon__KR4gW"}},4948:(e,r,t)=>{"use strict";t.d(r,{Html:()=>v,Kl:()=>m,Wj:()=>c,oE:()=>o});var n=t(5155),l=t(1826),s=t(2115),a=t(6917),i=t(6586),d=t.n(i);let u=(e,r)=>{let t=(0,l.jL)();(0,s.useEffect)(()=>{if(!r)return;let n={type:e,value:r};return t((0,a.$w)(n)),()=>{t((0,a.SV)(n))}},[e,r,t])},o=e=>{let r=(0,l.jL)();(0,s.useEffect)(()=>{if(e)return r((0,a.Dy)(e)),()=>{r((0,a.Dy)())}},[e,r])},c=e=>u("mouseup",e),m=e=>u("mouseleave",e),v=e=>{let{children:r,...t}=e,s=(0,l.GV)(a.YG),i=(0,l.GV)(a.Sr),u=(0,l.GV)(a.Bh);return(0,n.jsx)("html",{className:d().html,onMouseUp:s,onMouseLeave:i,"data-cursor":u,...t,children:r})}},5888:e=>{e.exports={editForm:"EntryForm_editForm__YhAuY",entryForm:"EntryForm_entryForm__MmFvs",options:"EntryForm_options__Q_SUy",editFormWrapper:"EntryForm_editFormWrapper__MEhIK",editableTitle:"EntryForm_editableTitle__HDoZ6",titleAndInput:"EntryForm_titleAndInput__fT8K_",title:"EntryForm_title__3RtFH",inputWrapper:"EntryForm_inputWrapper__7OcEZ",input:"EntryForm_input__3tr5U",menuWrapper:"EntryForm_menuWrapper__mj_rF",editMenu:"EntryForm_editMenu__z3yC0"}},6586:e=>{e.exports={html:"Html_html__5IBLO"}},6917:(e,r,t)=>{"use strict";t.d(r,{$w:()=>o,Bh:()=>h,Dy:()=>m,Kt:()=>u,SV:()=>c,Sr:()=>p,YG:()=>v});var n=t(5710),l=t(8924);let s=e=>e.onMouseUpArray,a=e=>e.onMouseLeaveArray,i=(e,r)=>{switch(e){case"mouseup":return s(r);case"mouseleave":return a(r)}},d=e=>r=>{for(let t of e)t(r)},u=(0,n.Z0)({name:"html",initialState:{onMouseUpArray:[],onMouseLeaveArray:[]},reducers:e=>({addHook:e.reducer((e,r)=>{let{payload:t}=r;i(t.type,e).push(t.value)}),removeHook:e.reducer((e,r)=>{let{payload:t}=r,n=i(t.type,e),l=n.indexOf(t.value);n.splice(l)}),cursor:e.reducer((e,r)=>{let{payload:t}=r;e.cursor=t})}),selectors:{selectOnMouseUp:(0,l.Mz)([s],d),selectOnMouseLeave:(0,l.Mz)([a],d),selectCursor:e=>e.cursor}}),{addHook:o,removeHook:c,cursor:m}=u.actions,{selectOnMouseUp:v,selectOnMouseLeave:p,selectCursor:h}=u.selectors},7202:(e,r,t)=>{"use strict";t.d(r,{StoreProvider:()=>b,J:()=>x});var n=t(5155),l=t(5710),s=t(1328),a=t(8091),i=t(8769),d=t(6917);let u={key:"root3",storage:a.A,blacklist:["html"]},o=(0,s.rL)(u,(0,l.fP)(i.C9,d.Kt)),c=()=>(0,l.U1)({reducer:o,middleware:e=>e({serializableCheck:{ignoredActions:["persist/PERSIST","persist/REHYDRATE","html/addHook","html/removeHook"],ignoredPaths:["html"]}})});var m=t(4317),v=t(2115),p=t(4540),h=t(7730);let _=(0,v.createContext)(!1),x=()=>(0,v.useContext)(_),b=e=>{let{children:r}=e,t=(0,v.useRef)(null);if(!t.current){let e=c(),r=(0,s.GM)(e);t.current={store:e,persistor:r}}(0,v.useEffect)(()=>{let e=t.current;if(e)return(0,m.$k)(e.store.dispatch)},[]);let l=t.current;return l?(0,n.jsx)(p.Kq,{store:l.store,children:(0,n.jsx)(h.Q,{persistor:l.persistor,children:e=>(0,n.jsx)(_.Provider,{value:e,children:r})})}):null}},7655:(e,r,t)=>{Promise.resolve().then(t.bind(t,786))},8769:(e,r,t)=>{"use strict";t.d(r,{C9:()=>i,Pk:()=>c,hc:()=>d,pJ:()=>m,rD:()=>u,wg:()=>o});var n=t(5710),l=t(8924);let s=(()=>{let e=Array(10).fill(null),r=e.map((e,r)=>r);return{entries:e,freshId:r,archivedId:[]}})(),a=e=>e.entries,i=(0,n.Z0)({name:"ten",initialState:s,reducers:e=>({edit:e.reducer((e,r)=>{let{payload:{id:t,value:n}}=r;e.entries[t]=n}),archive:e.reducer((e,r)=>{let{payload:{index:t}}=r,n=e.freshId[t];e.freshId[t]=e.entries.length,e.entries.push(null),e.archivedId=[n,...e.archivedId]}),swap:e.reducer((e,r)=>{let{payload:{leftIndex:t,rightIndex:n}}=r,l=e.freshId[t];e.freshId[t]=e.freshId[n],e.freshId[n]=l})}),selectors:{selectFresh:(0,l.Mz)([a,e=>e.freshId],(e,r)=>r.map(r=>({id:r,value:e[r]}))),selectArchived:(0,l.Mz)([a,e=>e.archivedId],(e,r)=>r.map(r=>({id:r,value:e[r]})))}}),{edit:d,archive:u,swap:o}=i.actions,{selectFresh:c,selectArchived:m}=i.selectors},9207:e=>{e.exports={entryList:"EntryList_entryList__bGwc1",entryItem:"EntryList_entryItem__kaLfY"}}},e=>{var r=r=>e(e.s=r);e.O(0,[725,155,441,684,358],()=>r(7655)),_N_E=e.O()}]);