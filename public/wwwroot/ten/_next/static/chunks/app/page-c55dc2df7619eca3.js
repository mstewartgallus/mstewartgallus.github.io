(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1540:e=>{e.exports={editButtonWrapper:"Button_editButtonWrapper__ZWMM7",editButton:"Button_editButton__v1DIC"}},3799:e=>{e.exports={entryItem:"EntryItem_entryItem__G5bXq",entryForm:"EntryItem_entryForm__D2Qbr",grabberWrapper:"EntryItem_grabberWrapper__Z0k5M",grabber:"EntryItem_grabber__1lAJT",grabberIcon:"EntryItem_grabberIcon__nJUdF",moveButtons:"EntryItem_moveButtons__j8B5C"}},4562:e=>{e.exports={editButtonIcon:"Icon_editButtonIcon__KR4gW"}},5298:(e,r,n)=>{"use strict";n.d(r,{Ten:()=>B});var t=n(5155),l=n(8769),a=n(4540);let s=a.wA.withTypes(),d=a.d4.withTypes();a.Pj.withTypes();var i=n(2115),u=n(9207),o=n.n(u);let c=(e,r)=>(0,i.useMemo)(()=>e?()=>e(r):void 0,[e,r]),h=e=>{let{children:r,id:n,value:l,index:a,length:s,dragIndex:d,onDragStartIndex:u,onDragEndIndex:o,onArchiveIndex:h,onDownIndex:v,onUpIndex:p}=e;h=l?h:void 0,o=a===d?void 0:o,v=a<s-1?v:void 0,p=a>0?p:void 0;let m=c(o,a),x=c(h,a),_=c(v,a),I=c(p,a),b=(0,i.useCallback)(()=>u(a),[a,u]);return(0,t.jsx)(r,{id:n,value:l,dragging:d===a,onDragStart:b,onDragEnd:m,onArchive:x,onUp:I,onDown:_})},v=e=>{let{children:r,fresh:n,onArchiveIndex:l,onDownIndex:a,onUpIndex:s,dragIndex:d,onDragStartIndex:u,onDragEndIndex:c,onDragAbort:v}=e,p=(0,i.useCallback)(e=>{0===e.button&&v()},[v]),m=n.length;return(0,t.jsx)("ul",{className:o().entryList,"data-anydragging":void 0!==d,onMouseUp:p,onMouseLeave:p,children:n.map((e,n)=>{let{id:i,value:v}=e;return(0,t.jsx)("li",{className:o().entryItem,children:(0,t.jsx)(h,{id:i,value:null!=v?v:void 0,index:n,length:m,dragIndex:d,onDragStartIndex:u,onDragEndIndex:c,onArchiveIndex:l,onDownIndex:a,onUpIndex:s,children:r})},i)})})},p=e=>{let{children:r,fresh:n,onArchiveIndex:l,onSwapIndices:a,onDownIndex:s,onUpIndex:d}=e,[u,o]=(0,i.useState)(null),c=(0,i.useCallback)(e=>o(e),[]),h=(0,i.useCallback)(()=>o(null),[]),p=(0,i.useMemo)(()=>{if(a&&null!==u)return e=>{a(u,e),o(null)}},[u,a]);return(0,t.jsx)(v,{fresh:n,onArchiveIndex:l,onDownIndex:s,onUpIndex:d,dragIndex:null!=u?u:void 0,onDragStartIndex:c,onDragEndIndex:p,onDragAbort:h,children:r})};var m=n(1540),x=n.n(m);let _=e=>{let{children:r,...n}=e;return(0,t.jsx)("div",{className:x().editButtonWrapper,children:(0,t.jsx)("button",{...n,className:x().editButton,children:r})})};var I=n(4562),b=n.n(I);let j=e=>{let{children:r}=e;return(0,t.jsx)("div",{className:b().editButtonIcon,children:r})};var g=n(3799),y=n.n(g);let f=e=>{let{id:r,dragging:n,otherDragging:l,onDragStart:a,onArchive:s,onUp:d,onDown:u}=e,o=(0,i.useCallback)(e=>{0===e.button&&(e.preventDefault(),a())},[a]),c=(0,i.useCallback)(e=>{switch(e.nativeEvent.submitter.value){case"archive":s&&(e.preventDefault(),s());break;case"up":d&&(e.preventDefault(),d());break;case"down":u&&(e.preventDefault(),u());break;default:return}},[s,d,u]);return(0,t.jsxs)("form",{onSubmit:c,id:r,action:"#",className:y().entryForm,children:[(0,t.jsx)("div",{className:y().grabberWrapper,children:(0,t.jsx)("div",{className:y().grabber,onMouseDown:o,"data-dragging":n,"data-otherdragging":l,children:(0,t.jsx)("div",{className:y().grabberIcon,children:"="})})}),(0,t.jsxs)("div",{className:y().moveButtons,children:[(0,t.jsx)(_,{disabled:!d,value:"up",children:(0,t.jsx)(j,{children:"↑"})}),(0,t.jsx)(_,{disabled:!u,value:"down",children:(0,t.jsx)(j,{children:"↓"})})]}),(0,t.jsx)(_,{disabled:!s,value:"archive",children:"Archive"})]})},E=e=>{let{children:r,dragging:n,onDragStart:l,onDragEnd:a,onArchive:s,onUp:d,onDown:u}=e,o=!!a,c=(0,i.useId)(),h=(0,i.useMemo)(()=>{if(a)return e=>{0===e.button&&a()}},[a]);return(0,t.jsxs)("div",{className:y().entryItem,"data-otherdragging":o,onMouseUp:h,children:[(0,t.jsx)(f,{id:c,dragging:n,otherDragging:o,onDragStart:l,onArchive:s,onUp:d,onDown:u}),r]})},D=e=>{let{cond:r,children:n}=e;return r?n:null};var k=n(5888),C=n.n(k);let F=e=>{let{value:r,id:n,onChange:l,onDeselect:a}=e,s=(0,i.useCallback)(e=>{l&&a&&(e.preventDefault(),l(r),a())},[a,l,r]);return(0,t.jsx)("form",{className:C().editMenu,id:n,action:"#",onSubmit:s,children:(0,t.jsx)(_,{disabled:!l,children:(0,t.jsx)(j,{children:"✔"})})})},w=e=>{let{value:r,onChange:n,selected:l,onSelect:a,onDeselect:s}=e,d=(0,i.useId)(),u=(0,i.useId)(),o=(0,i.useId)(),[c,h]=(0,i.useState)(null!=r?r:""),v=(0,i.useCallback)(e=>{e.preventDefault(),l?s():(h(null!=r?r:""),a())},[a,s,l,r]),p=(0,i.useCallback)(e=>{let{target:r}=e;r&&(e.preventDefault(),h(r.value))},[]),m=l?"X":r?"✎":"+";return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:C().editableTitle,children:[(0,t.jsx)(_,{id:o,onClick:v,"aria-expanded":l,"aria-controls":u,children:(0,t.jsx)(j,{children:m})}),(0,t.jsxs)("div",{id:u,className:C().titleAndInput,children:[(0,t.jsx)("div",{className:C().title,children:null!=r?r:"..."}),(0,t.jsx)(D,{cond:l,children:(0,t.jsx)("div",{className:C().inputWrapper,children:(0,t.jsx)("input",{className:C().input,form:d,value:c,onChange:p})})})]})]}),(0,t.jsx)("div",{className:C().menuWrapper,children:(0,t.jsx)(D,{cond:l,children:(0,t.jsx)(F,{value:c,id:d,onChange:n,onDeselect:s})})})]})},N=e=>{let{value:r,selected:n,onDeselect:l,onSelect:a,onEdit:s}=e;return(0,t.jsx)("div",{className:C().entryForm,children:(0,t.jsx)("div",{className:C().editForm,children:(0,t.jsx)(w,{selected:n,value:r,onChange:s,onSelect:a,onDeselect:l})})})};var A=n(7202);let M=e=>{let{id:r,value:n,selectionId:l,onEditId:a,onSelectId:s,onDeselect:d}=e,u=l===r,o=(0,i.useCallback)(()=>s(r),[r,s]),c=(0,i.useMemo)(()=>{if(a)return e=>a(r,e)},[r,a]);return(0,t.jsx)(N,{value:n,selected:u,onSelect:o,onDeselect:d,onEdit:c})},S=e=>{let{fresh:r,archived:n,onEditId:l,onArchiveIndex:a,onSwapIndices:s,onUpIndex:d,onDownIndex:u}=e,[o,c]=(0,i.useState)(null),h=(0,i.useCallback)(e=>c(e),[]),v=(0,i.useCallback)(()=>c(null),[]),m=(0,i.useMemo)(()=>r.reduce((e,r)=>+(null!=r.value)+e,0),[r]);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("section",{children:[(0,t.jsxs)("h1",{children:[m," / 10"]}),(0,t.jsx)(p,{fresh:r,onArchiveIndex:a,onSwapIndices:s,onDownIndex:u,onUpIndex:d,children:e=>{let{id:r,value:n,...a}=e;return(0,t.jsx)(E,{...a,children:(0,t.jsx)(M,{selectionId:null!=o?o:void 0,onEditId:l,id:r,value:n,onSelectId:h,onDeselect:v})})}})]}),(0,t.jsxs)("section",{children:[(0,t.jsx)("h2",{children:"Archived"}),(0,t.jsx)("ul",{children:n.map(e=>{let{id:r,value:n}=e;return(0,t.jsx)("li",{children:n},r)})})]})]})},W=[{id:0,value:null},{id:1,value:null},{id:2,value:null},{id:3,value:null},{id:4,value:null},{id:5,value:null},{id:6,value:null},{id:7,value:null},{id:8,value:null},{id:9,value:null}],B=()=>{let e=s(),r=(0,i.useCallback)((r,n)=>e((0,l.hc)({id:r,value:n})),[e]),n=(0,i.useCallback)(r=>e((0,l.rD)({index:r})),[e]),a=(0,i.useCallback)((r,n)=>e((0,l.wg)({leftIndex:r,rightIndex:n})),[e]),u=(0,i.useCallback)(r=>e((0,l.up)({index:r})),[e]),o=(0,i.useCallback)(r=>e((0,l.TR)({index:r})),[e]),c=d(l.Pk),h=d(l.pJ),v=(0,A.J)();return(0,t.jsx)(S,{fresh:v?c:W,archived:v?h:[],onEditId:v?r:void 0,onArchiveIndex:v?n:void 0,onSwapIndices:v?a:void 0,onDownIndex:v?o:void 0,onUpIndex:v?u:void 0})}},5888:e=>{e.exports={editForm:"EntryForm_editForm__YhAuY",entryForm:"EntryForm_entryForm__MmFvs",options:"EntryForm_options__Q_SUy",editFormWrapper:"EntryForm_editFormWrapper__MEhIK",editableTitle:"EntryForm_editableTitle__HDoZ6",titleAndInput:"EntryForm_titleAndInput__fT8K_",title:"EntryForm_title__3RtFH",inputWrapper:"EntryForm_inputWrapper__7OcEZ",input:"EntryForm_input__3tr5U",menuWrapper:"EntryForm_menuWrapper__mj_rF",editMenu:"EntryForm_editMenu__z3yC0"}},7202:(e,r,n)=>{"use strict";n.d(r,{StoreProvider:()=>_,J:()=>x});var t=n(5155),l=n(5710),a=n(1328),s=n(8091),d=n(8769);let i={key:"root3",storage:s.A},u=(0,a.rL)(i,(0,l.fP)(d.C9)),o=()=>(0,l.U1)({reducer:u,middleware:e=>e({serializableCheck:{ignoredActions:["persist/PERSIST","persist/REHYDRATE"]}})});var c=n(4317),h=n(2115),v=n(4540),p=n(7730);let m=(0,h.createContext)(!1),x=()=>(0,h.useContext)(m),_=e=>{let{children:r}=e,n=(0,h.useRef)(null);if(!n.current){let e=o(),r=(0,a.GM)(e);n.current={store:e,persistor:r}}(0,h.useEffect)(()=>{let e=n.current;if(e)return(0,c.$k)(e.store.dispatch)},[]);let l=n.current;return l?(0,t.jsx)(v.Kq,{store:l.store,children:(0,t.jsx)(p.Q,{persistor:l.persistor,children:e=>(0,t.jsx)(m.Provider,{value:e,children:r})})}):null}},7655:(e,r,n)=>{Promise.resolve().then(n.bind(n,5298))},8769:(e,r,n)=>{"use strict";n.d(r,{C9:()=>d,Pk:()=>v,TR:()=>h,hc:()=>i,pJ:()=>p,rD:()=>u,up:()=>c,wg:()=>o});var t=n(5710),l=n(8924);let a=(()=>{let e=Array(10).fill(null),r=e.map((e,r)=>r);return{entries:e,freshId:r,archivedId:[]}})(),s=e=>e.entries,d=(0,t.Z0)({name:"ten",initialState:a,reducers:e=>({edit:e.reducer((e,r)=>{let{payload:{id:n,value:t}}=r;e.entries[n]=t}),archive:e.reducer((e,r)=>{let{payload:{index:n}}=r,t=e.freshId[n];e.freshId[n]=e.entries.length,e.entries.push(null),e.archivedId=[t,...e.archivedId]}),swap:e.reducer((e,r)=>{let{payload:{leftIndex:n,rightIndex:t}}=r,l=e.freshId[n];e.freshId[n]=e.freshId[t],e.freshId[t]=l}),up:e.reducer((e,r)=>{let{payload:{index:n}}=r,t=(10+n-1)%10,l=e.freshId[n];e.freshId[n]=e.freshId[t],e.freshId[t]=l}),down:e.reducer((e,r)=>{let{payload:{index:n}}=r,t=(n+1)%10,l=e.freshId[n];e.freshId[n]=e.freshId[t],e.freshId[t]=l})}),selectors:{selectFresh:(0,l.Mz)([s,e=>e.freshId],(e,r)=>r.map(r=>({id:r,value:e[r]}))),selectArchived:(0,l.Mz)([s,e=>e.archivedId],(e,r)=>r.map(r=>({id:r,value:e[r]})))}}),{edit:i,archive:u,swap:o,up:c,down:h}=d.actions,{selectFresh:v,selectArchived:p}=d.selectors},9207:e=>{e.exports={entryList:"EntryList_entryList__bGwc1",entryItem:"EntryList_entryItem__kaLfY"}}},e=>{var r=r=>e(e.s=r);e.O(0,[560,155,441,684,358],()=>r(7655)),_N_E=e.O()}]);