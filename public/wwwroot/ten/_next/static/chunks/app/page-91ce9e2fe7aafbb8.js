(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{5888:e=>{e.exports={editForm:"EntryForm_editForm__YhAuY",entryForm:"EntryForm_entryForm__MmFvs",options:"EntryForm_options__Q_SUy",editButton:"EntryForm_editButton__hOfaj",editFormWrapper:"EntryForm_editFormWrapper__MEhIK",editableTitle:"EntryForm_editableTitle__HDoZ6",titleAndInput:"EntryForm_titleAndInput__fT8K_",title:"EntryForm_title__3RtFH",inputWrapper:"EntryForm_inputWrapper__7OcEZ",input:"EntryForm_input__3tr5U",menuWrapper:"EntryForm_menuWrapper__mj_rF",editMenu:"EntryForm_editMenu__z3yC0"}},7202:(e,r,n)=>{"use strict";n.d(r,{Q:()=>m,StoreProvider:()=>_});var t=n(5155),l=n(5710),s=n(1328),a=n(8091),i=n(8769);let d={key:"root3",storage:a.A},c=(0,s.rL)(d,(0,l.fP)(i.C9)),u=()=>(0,l.U1)({reducer:c,middleware:e=>e({serializableCheck:{ignoredActions:["persist/PERSIST","persist/REHYDRATE"]}})});var o=n(4317),h=n(2115),p=n(4540),x=n(7730);let v=(0,h.createContext)(null),m=e=>{let{children:r,loading:n}=e,l=(0,h.useContext)(v);return l?(0,t.jsx)(x.Q,{loading:n,persistor:l,children:r}):null},_=e=>{let{children:r}=e,n=(0,h.useRef)(null);if(!n.current){let e=u(),r=(0,s.GM)(e);n.current={store:e,persistor:r}}(0,h.useEffect)(()=>{let e=n.current;if(e)return(0,o.$k)(e.store.dispatch)},[]);let l=n.current;return l?(0,t.jsx)(p.Kq,{store:l.store,children:(0,t.jsx)(v.Provider,{value:l.persistor,children:r})}):null}},7655:(e,r,n)=>{Promise.resolve().then(n.bind(n,8500))},8500:(e,r,n)=>{"use strict";n.d(r,{Ten:()=>k});var t=n(5155),l=n(8769),s=n(4540);let a=s.wA.withTypes(),i=s.d4.withTypes();s.Pj.withTypes();var d=n(2115),c=n(9207),u=n.n(c);let o=e=>{let{children:r,selected:n,value:l,anyDragging:s,dragging:a,onDragIndex:i,onDropIndex:c,onDeselect:o,index:h,length:p,onSelectIndex:x,onEditIndex:v,onArchiveIndex:m,onDownIndex:_,onUpIndex:b}=e,j=(0,d.useCallback)(()=>x(h),[h,x]),I=(0,d.useCallback)(e=>v(h,e),[h,v]),f=(0,d.useCallback)(()=>m(h),[h,m]),g=(0,d.useCallback)(()=>_(h),[h,_]),y=(0,d.useCallback)(()=>b(h),[h,b]),k=h>0?y:void 0,C=h<p?g:void 0,E=(0,d.useCallback)(e=>{e.preventDefault(),i(h)},[h,i]),F=(0,d.useCallback)(e=>{e.preventDefault(),c(h)},[h,c]),D=(0,d.useCallback)(e=>{e.preventDefault(),c(null)},[c]);return(0,t.jsxs)("li",{className:u().entryItem,"data-otherdragging":s&&!a,onPointerEnter:F,onPointerLeave:D,children:[(0,t.jsx)("div",{className:u().grabberWrapper,children:(0,t.jsx)("div",{className:u().grabber,onPointerDown:E,"data-dragging":a,children:"::"})}),(0,t.jsx)(r,{value:l,selected:n,onDeselect:o,onSelect:j,onEdit:I,onArchive:f,onUp:k,onDown:C})]})},h=e=>{let{children:r,fresh:n,onEditIndex:l,onArchiveIndex:s,onSwapIndex:a,onDownIndex:i,onUpIndex:c}=e,[h,p]=(0,d.useState)(null),[x,v]=(0,d.useState)(null),[m,_]=(0,d.useState)(null),b=(0,d.useCallback)(e=>p(e),[]),j=(0,d.useCallback)(()=>p(null),[]),I=(0,d.useCallback)(e=>v(e),[]),f=(0,d.useCallback)(e=>_(e),[]),g=n.length,y=(0,d.useCallback)(()=>{v(null),_(null)},[]),k=(0,d.useCallback)(e=>{null!==x&&null!==m&&x!==m&&(e.preventDefault(),a(x,m),v(null),_(null))},[a,x,m]);return(0,t.jsx)("ul",{className:u().entryList,"data-anydragging":null!==x,onPointerCancel:y,onPointerUp:k,children:n.map((e,n)=>{let{id:a,value:d}=e;return(0,t.jsx)(o,{index:n,length:g,value:null!=d?d:void 0,selected:h===n,anyDragging:null!==x,dragging:x===n,onDragIndex:I,onDropIndex:f,onDeselect:j,onSelectIndex:b,onEditIndex:l,onArchiveIndex:s,onDownIndex:i,onUpIndex:c,children:r},a)})})},p=e=>{let{cond:r,children:n}=e;return r?n:null};var x=n(9679),v=n.n(x);let m=e=>{let{children:r}=e;return(0,t.jsx)("ul",{className:v().editList,children:r})},_=e=>{let{children:r}=e;return(0,t.jsx)("li",{className:v().editItem,children:r})};var b=n(5888),j=n.n(b);let I=e=>{let{onArchive:r,onUp:n,onDown:l}=e,[s,a]=(0,d.useState)(!1),i=(0,d.useCallback)(e=>{e.preventDefault(),a(e=>!e)},[]),c=(0,d.useCallback)(e=>{switch(e.nativeEvent.submitter.value){case"archive":r&&(e.preventDefault(),r());break;case"up":n&&(e.preventDefault(),n());break;case"down":l&&(e.preventDefault(),l());break;default:return}},[r,n,l]);return(0,t.jsxs)("div",{className:j().options,children:[(0,t.jsx)("button",{onClick:i,children:s?(0,t.jsx)(t.Fragment,{children:"+"}):(0,t.jsx)(t.Fragment,{children:"-"})}),(0,t.jsx)(p,{cond:s,children:(0,t.jsx)("form",{action:"#",onSubmit:c,children:(0,t.jsxs)(m,{children:[(0,t.jsx)(_,{children:(0,t.jsx)("button",{disabled:!r,value:"archive",children:"Archive"})}),(0,t.jsx)(_,{children:(0,t.jsx)("button",{disabled:!n,value:"up",children:"↑"})}),(0,t.jsx)(_,{children:(0,t.jsx)("button",{disabled:!l,value:"down",children:"↓"})})]})})})]})},f=e=>{let{value:r,onChange:n,selected:l,onSelect:s,onDeselect:a}=e,i=(0,d.useId)(),c=(0,d.useId)(),u=(0,d.useId)(),o=(0,d.useCallback)(e=>{e.preventDefault(),l?a():s()},[s,a,l]),[h,x]=(0,d.useState)(null!=r?r:""),v=(0,d.useCallback)(e=>{let{target:r}=e;r&&(e.preventDefault(),x(r.value))},[]),m=(0,d.useCallback)(e=>{e.preventDefault(),n(h),a()},[a,n,h]);return(0,t.jsxs)("div",{className:j().editForm,children:[(0,t.jsxs)("div",{className:j().editableTitle,children:[(0,t.jsx)("button",{className:j().editButton,id:u,onClick:o,"aria-expanded":l,"aria-controls":c,children:l?(0,t.jsx)(t.Fragment,{children:"+"}):(0,t.jsx)(t.Fragment,{children:"✎"})}),(0,t.jsxs)("div",{id:c,className:j().titleAndInput,children:[(0,t.jsx)("div",{className:j().title,children:null!=r?r:"..."}),(0,t.jsx)(p,{cond:l,children:(0,t.jsx)("div",{className:j().inputWrapper,children:(0,t.jsx)("input",{className:j().input,form:i,value:h,onChange:v})})})]})]}),(0,t.jsx)("div",{className:j().menuWrapper,children:(0,t.jsx)("form",{className:j().editMenu,id:i,action:"#",onSubmit:m,children:(0,t.jsx)(p,{cond:l,children:(0,t.jsx)("button",{children:"Finish Edit"})})})})]})},g=e=>{let{value:r,selected:n,onDeselect:l,onSelect:s,onEdit:a,onArchive:i,onUp:d,onDown:c}=e;return(0,t.jsxs)("div",{className:j().entryForm,children:[(0,t.jsx)(f,{selected:n,value:r,onChange:a,onSelect:s,onDeselect:l}),(0,t.jsx)(I,{onArchive:r?i:void 0,onDown:c,onUp:d})]})};var y=n(7202);let k=()=>{let e=a(),r=(0,d.useCallback)((r,n)=>e((0,l.hc)({index:r,value:n})),[e]),n=(0,d.useCallback)(r=>e((0,l.rD)({index:r})),[e]),s=(0,d.useCallback)((r,n)=>e((0,l.wg)({leftIndex:r,rightIndex:n})),[e]),c=(0,d.useCallback)(r=>e((0,l.up)({index:r})),[e]),u=(0,d.useCallback)(r=>e((0,l.TR)({index:r})),[e]),o=i(l.Pk),p=i(l.pJ),x=(0,d.useMemo)(()=>o.reduce((e,r)=>+(null!=r.value)+e,0),[o]);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("section",{children:[(0,t.jsxs)("h1",{children:[(0,t.jsx)(y.Q,{loading:(0,t.jsx)(t.Fragment,{children:"\xa0"}),children:x})," / 10"]}),(0,t.jsx)(y.Q,{loading:null,children:(0,t.jsx)(h,{fresh:o,onEditIndex:r,onArchiveIndex:n,onSwapIndex:s,onDownIndex:u,onUpIndex:c,children:e=>{let{value:r,selected:n,onDeselect:l,onSelect:s,onEdit:a,onArchive:i,onUp:d,onDown:c}=e;return(0,t.jsx)(g,{value:r,selected:n,onDeselect:l,onSelect:s,onEdit:a,onArchive:i,onUp:d,onDown:c})}})})]}),(0,t.jsxs)("section",{children:[(0,t.jsx)("h2",{children:"Archived"}),(0,t.jsx)("ul",{children:(0,t.jsx)(y.Q,{loading:null,children:p.map(e=>{let{id:r,value:n}=e;return(0,t.jsx)("li",{children:n},r)})})})]})]})}},8769:(e,r,n)=>{"use strict";n.d(r,{C9:()=>i,Pk:()=>p,TR:()=>h,hc:()=>d,pJ:()=>x,rD:()=>c,up:()=>o,wg:()=>u});var t=n(5710),l=n(8924);let s=(()=>{let e=Array(10).fill(null),r=e.map((e,r)=>r);return{entries:e,freshId:r,archivedId:[]}})(),a=e=>e.entries,i=(0,t.Z0)({name:"ten",initialState:s,reducers:e=>({edit:e.reducer((e,r)=>{let{payload:{index:n,value:t}}=r;e.entries[e.freshId[n]]=t}),archive:e.reducer((e,r)=>{let{payload:{index:n}}=r,t=e.freshId[n];e.freshId[n]=e.entries.length,e.entries.push(null),e.archivedId=[t,...e.archivedId]}),swap:e.reducer((e,r)=>{let{payload:{leftIndex:n,rightIndex:t}}=r,l=e.freshId[n];e.freshId[n]=e.freshId[t],e.freshId[t]=l}),up:e.reducer((e,r)=>{let{payload:{index:n}}=r,t=(10+n-1)%10,l=e.freshId[n];e.freshId[n]=e.freshId[t],e.freshId[t]=l}),down:e.reducer((e,r)=>{let{payload:{index:n}}=r,t=(n+1)%10,l=e.freshId[n];e.freshId[n]=e.freshId[t],e.freshId[t]=l})}),selectors:{selectFresh:(0,l.Mz)([a,e=>e.freshId],(e,r)=>r.map(r=>({id:r,value:e[r]}))),selectArchived:(0,l.Mz)([a,e=>e.archivedId],(e,r)=>r.map(r=>({id:r,value:e[r]})))}}),{edit:d,archive:c,swap:u,up:o,down:h}=i.actions,{selectFresh:p,selectArchived:x}=i.selectors},9207:e=>{e.exports={entryList:"EntryList_entryList__bGwc1",entryItem:"EntryList_entryItem__kaLfY",grabberWrapper:"EntryList_grabberWrapper__snhFn",grabber:"EntryList_grabber__Da0n7"}},9679:e=>{e.exports={editList:"EditList_editList__86Dy0",editItem:"EditList_editItem___ooyP"}}},e=>{var r=r=>e(e.s=r);e.O(0,[430,155,441,684,358],()=>r(7655)),_N_E=e.O()}]);