{"version":3,"file":"component---src-pages-ten-jsx-33e7c6232cb2eb5260fc.js","mappings":"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","sources":["webpack://words-to-kick-your-teeth-out/./src/features/ten/edit/index.jsx","webpack://words-to-kick-your-teeth-out/./src/features/ten/edit/edit.module.css","webpack://words-to-kick-your-teeth-out/./src/pages/ten.module.css","webpack://words-to-kick-your-teeth-out/./src/pages/ten.jsx","webpack://words-to-kick-your-teeth-out/./src/features/util/component-name.js","webpack://words-to-kick-your-teeth-out/./src/features/util/with-class.jsx"],"sourcesContent":["import { withClass } from \"@features/util\";\nimport { editList, editItem } from \"./edit.module.css\";\n\nexport const EditList = withClass('ul', editList);\nexport const EditItem = withClass('li', editItem);\n","// extracted by mini-css-extract-plugin\nexport var editItem = \"edit-module--editItem--8728d\";\nexport var editList = \"edit-module--editList--741ed\";","// extracted by mini-css-extract-plugin\nexport var button = \"ten-module--button--97a56\";\nexport var editFieldset = \"ten-module--editFieldset--091bf\";\nexport var editForm = \"ten-module--editForm--d0adf\";\nexport var editFormWrapper = \"ten-module--editFormWrapper--0895a\";\nexport var editInput = \"ten-module--editInput--85553\";\nexport var editLegend = \"ten-module--editLegend--83cd5\";\nexport var editMenu = \"ten-module--editMenu--a5ec6\";\nexport var entry = \"ten-module--entry--07e39\";\nexport var entryItem = \"ten-module--entryItem--2f931\";\nexport var entryList = \"ten-module--entryList--b8e44\";\nexport var title = \"ten-module--title--a305d\";","import { EditList, EditItem } from \"@features/ten\";\nimport { useReducer,\n         useId, useState, useCallback, useContext, useMemo, createContext } from 'react';\nimport {\n    editForm, editFormWrapper, editInput, editMenu,\n    button, entryList, entryItem, entry, title\n} from \"./ten.module.css\";\n\nconst iff = (cond, value) => cond ? value : undefined;\n\nconst If = ({ children, cond }) => cond ? children : undefined;\n\nconst Input = ({ value, onChange }) => {\n    const [editValue, setEditValue] = useState(value);\n\n    const onChangeCb = useCallback(e => {\n        e.preventDefault();\n        const { value } = e.target;\n        setEditValue(value);\n        onChange(value);\n    }, [onChange]);\n\n    return <input className={editInput}\n                  required=\"required\"\n                  onChange={onChangeCb}\n                  value={editValue ?? ''} />;\n};\n\nconst EntryForm = ({\n    value, onChange,\n    open,\n    onArchive, onUp, onDown,\n    controlId, buttonId\n}) => {\n    const [editValue, setEditValue] = useState(value ?? '');\n\n    const onChangeEdit = useCallback(v => setEditValue(v), []);\n\n    const onSubmit = useCallback(e => {\n        const value = e.nativeEvent.submitter.value;\n        switch (value) {\n        case 'edit':\n        case 'archive':\n        case 'up':\n        case 'down':\n            e.preventDefault();\n            onChange(editValue);\n            break;\n        }\n\n        switch (value) {\n        case 'archive':\n            onArchive();\n            break;\n\n        case 'up':\n            onUp();\n            break;\n\n        case 'down':\n            onDown();\n            break;\n\n        default:\n            return;\n        }\n    },[onChange, editValue, onArchive, onUp, onDown]);\n\n    return <div className={editForm}>\n               <div className={entry}>\n                   <label className={title} htmlFor={buttonId}>{value ?? '...'}</label>\n                   <If cond={open}>\n                       <form id={controlId} action=\"#\" onSubmit={onSubmit}>\n                           <Input value={value} onChange={onChangeEdit} />\n                       </form>\n                   </If>\n               </div>\n               <div className={entry}>\n                   <If cond={open}>\n                       <div className={editMenu}>\n                           <EditList>\n                               <EditItem>\n                                   <button form={controlId} value=\"edit\">Edit</button>\n                               </EditItem>\n                               <EditItem>\n                                   <button form={controlId} disabled={!onArchive} value=\"archive\">\n                                       Archive\n                                   </button>\n                               </EditItem>\n                               <EditItem>\n                                   <button form={controlId} disabled={!onUp} value=\"up\">\n                                       Up\n                                   </button>\n                               </EditItem>\n                               <EditItem>\n                                   <button form={controlId} disabled={!onDown} value=\"down\">\n                                       Down\n                                   </button>\n                               </EditItem>\n                           </EditList>\n                       </div>\n                   </If>\n               </div>\n           </div>;\n};\n\nconst Entry = ({\n    value, onChange,\n    open, onToggle,\n    onArchive, onUp, onDown\n}) => {\n    const controlId = useId();\n    const buttonId = useId();\n\n    const onToggleClick = useCallback(e => {\n        e.preventDefault();\n\n        onToggle();\n    }, [onToggle]);\n    return <div className={editFormWrapper}>\n               <div className={button}>\n                   <button\n                       id={buttonId}\n                       onClick={onToggleClick}\n                       aria-expanded={open}\n                       aria-controls={controlId}\n                   >\n                       {open ? <>+</> : <>-</>}\n                   </button>\n               </div>\n\n               <EntryForm\n                   controlId={controlId} buttonId={buttonId}\n                   open={open} value={value}\n                   onChange={onChange}\n                   onArchive={onArchive} onUp={onUp} onDown={onDown}\n               />\n           </div>;\n};\n\nconst EntryContext = createContext({\n    selection: -1,\n    state: null,\n    onToggle: () => {},\n    onEdit: () => {},\n    onArchive: () => {},\n    onUp: () => {},\n    onDown: () => {},\n});\nEntryContext.displayName = 'EntryContext';\n\nconst EntryItem = ({index}) => {\n    const {\n        selection, state, onEdit, onArchive, onUp, onDown, onToggle\n    } = useContext(EntryContext);\n\n    const onToggleEntry = useCallback(() => onToggle(index),\n                                      [index, onToggle]);\n    const onEditEntry = useCallback(edit =>\n        onEdit(index, edit),\n        [index, onEdit]);\n    const onArchiveEntry = useCallback(() =>\n        onArchive(index),\n        [index, onArchive]);\n    const onDownEntry = useCallback(() =>\n        onDown(index),\n        [index, onDown]);\n    const onUpEntry = useCallback(() =>\n        onUp(index),\n        [index, onUp]);\n\n    const { entries, fresh } = state;\n    const open = selection === index;\n    const id = fresh[index];\n    const value = entries[id];\n\n    return <li className={entryItem}>\n               <Entry\n                   value={value} onChange={onEditEntry}\n                   open={open}\n                   onToggle={onToggleEntry}\n                   onArchive={onArchiveEntry}\n                   onUp={iff(index > 0, onUpEntry)}\n                   onDown={iff(index < len, onDownEntry)}\n               />\n           </li>;\n};\n\nconst EntryList = ({\n    children,\n    state, onEdit, onArchive, onDown, onUp\n}) => {\n    const [selection, onSelect] = useState(-1);\n\n    const onToggleEntry = useCallback(index => {\n        onSelect(selection => selection === index ? -1 : index);\n    }, [onSelect]);\n\n    const onEditEntry = useCallback((index, edit) => {\n        onEdit(index, edit);\n        onSelect(-1);\n    }, [onEdit, onSelect]);\n    const onArchiveEntry = useCallback(index => {\n        onArchive(index);\n        onSelect(-1);\n    }, [onArchive, onSelect]);\n    const onUpEntry = useCallback(index => {\n        onUp(index);\n        onSelect(-1);\n    }, [onUp, onSelect]);\n    const onDownEntry = useCallback(index => {\n        onDown(index);\n        onSelect(-1);\n    }, [onDown, onSelect]);\n    const handler = useMemo(() => ({\n        selection, state,\n        onToggle: onToggleEntry,\n        onEdit: onEditEntry,\n        onArchive: onArchiveEntry,\n        onUp: onUpEntry,\n        onDown: onDownEntry\n    }), [\n        selection,\n        state,\n        onToggleEntry,\n        onEditEntry,\n        onArchiveEntry,\n        onDownEntry,\n        onUpEntry\n    ]);\n    return <ul className={entryList}>\n               <EntryContext.Provider value={handler}>\n                   {children}\n               </EntryContext.Provider>\n           </ul>;\n};\n\n\n// FIXME add ids to identify entries\nconst len = 10;\n\nconst reducer = (state, action) => {\n    switch (action.type) {\n    case 'edit': {\n        const { index, value } = action;\n        const id = state.fresh[index];\n        const entries = [...state.entries];\n        entries[id] = value;\n        return { ...state, entries, selection: -1 };\n    }\n\n    case 'archive': {\n        const { index } = action;\n        const id = state.fresh[index];\n        const fresh = [...state.fresh];\n        const entries = [...state.entries, null];\n        fresh[index] = entries.length - 1;\n        const archived = [id, ...state.archived];\n        return { ...state, fresh, archived, entries, selection: -1 };\n    }\n\n    case 'up': {\n        const { index } = action;\n        const fresh = [...state.fresh];\n        const nextIndex = (len + index - 1) % len;\n        const value = fresh[index];\n        fresh[index] = fresh[nextIndex];\n        fresh[nextIndex] = value;\n        return { ...state, fresh, selection: -1 };\n    }\n\n    case 'down': {\n        const { index } = action;\n        const fresh = [...state.fresh];\n        const nextIndex = (index + 1) % len;\n        const value = fresh[index];\n        fresh[index] = fresh[nextIndex];\n        fresh[nextIndex] = value;\n        return { ...state, fresh, selection: -1 };\n    }\n\n    case 'select': {\n        const { index } = action;\n        return { ...state, selection: index };\n    }\n\n    default:\n        throw Error('unknown action: ' + action);\n   }\n};\n\n// FIXME add unarchive function?\nconst TenPage = () => {\n    const [state, dispatch] = useReducer(reducer, null, () => {\n        const entries = Array(len).fill(null);\n        const fresh = entries.map((v, ix) => ix);\n        return {\n            entries,\n            fresh,\n            archived: []\n        };\n    });\n\n    const onEdit = useCallback((index, value) =>\n        dispatch({ type: 'edit', index, value }),\n        []);\n    const onArchive = useCallback((index, value) =>\n        dispatch({ type: 'archive', index, value }),\n        []);\n    const onUp = useCallback(index =>\n        dispatch({ type: 'up', index }),\n        []);\n    const onDown = useCallback(index =>\n        dispatch({ type: 'down', index }),\n        []);\n    const { fresh, archived, entries } = state;\n    return <div>\n               <section>\n                   <h1>Ten Things</h1>\n                   <EntryList\n                       onEdit={onEdit}\n                       onArchive={onArchive}\n                       onDown={onDown}\n                       onUp={onUp}\n                       state={state}\n                   >\n                       {\n                           fresh.map((id, index) =>\n                               <EntryItem\n                                   key={id}\n                                   index={index}\n                                   id={id}/>)\n                       }\n                   </EntryList>\n               </section>\n               <section>\n                   <h2>Archived</h2>\n                   <ul>\n                       {\n                           archived.map((id, index) =>\n                               <li key={id}>{entries[id]}</li>)\n                       }\n                   </ul>\n               </section>\n           </div>;\n};\n\n\nexport default TenPage;\n","export const componentName = Component => {\n    if (typeof Component === 'string') {\n        return Component;\n    }\n    const name = Component.displayName ?? Component.name;\n    if (!name) {\n        console.log(Component);\n    }\n    return name;\n};\n","import { forwardRef } from \"react\";\nimport { componentName } from \"./component-name.js\";\n\nconst j = (x, y) => `${x} ${y}`;\n\nconst withClassImpl = (Component, className) =>\n      forwardRef((props, ref) => {\n          const clazz = props.className ?? '';\n          const theClass = j(clazz, className);\n          return <Component {...props} className={theClass} ref={ref} />;\n      });\n\n// FIXME awkward\n// doesn't handle CSS conflicts\nexport const withClass = (Component, className) => {\n    const Classy = withClassImpl(Component, className);\n    const name = componentName(Component);\n    Classy.displayName = `.${className}(${name})`;\n    return Classy;\n};\n"],"names":["EditList","withClass","EditItem","entry","iff","cond","value","undefined","If","children","Input","onChange","editValue","setEditValue","useState","onChangeCb","useCallback","e","preventDefault","target","_jsx","className","required","EntryForm","open","onArchive","onUp","onDown","controlId","buttonId","onChangeEdit","v","onSubmit","nativeEvent","submitter","_jsxs","htmlFor","id","action","form","disabled","Entry","onToggle","useId","onToggleClick","onClick","_Fragment","EntryContext","createContext","selection","state","onEdit","displayName","EntryItem","index","useContext","onToggleEntry","onEditEntry","edit","onArchiveEntry","onDownEntry","onUpEntry","entries","fresh","len","EntryList","onSelect","handler","useMemo","Provider","reducer","type","_toConsumableArray","concat","length","archived","nextIndex","Error","TenPage","dispatch","useReducer","Array","fill","map","ix","componentName","Component","_Component$displayNam","name","console","log","Classy","withClassImpl","forwardRef","props","ref","_props$className","theClass"],"sourceRoot":""}