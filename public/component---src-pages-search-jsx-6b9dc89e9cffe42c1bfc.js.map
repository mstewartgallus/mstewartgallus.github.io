{"version":3,"file":"component---src-pages-search-jsx-6b9dc89e9cffe42c1bfc.js","mappings":"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","sources":["webpack://words-to-kick-your-teeth-out/./src/features/ui/breadcrumb-list/index.jsx","webpack://words-to-kick-your-teeth-out/./src/features/search/use-post-tags.js","webpack://words-to-kick-your-teeth-out/./src/features/search/use-form-state.js","webpack://words-to-kick-your-teeth-out/./src/features/search/checkbox/index.jsx","webpack://words-to-kick-your-teeth-out/./src/features/search/checkbox/checkbox.module.css","webpack://words-to-kick-your-teeth-out/./src/features/search/select/index.jsx","webpack://words-to-kick-your-teeth-out/./src/features/search/select/select.module.css","webpack://words-to-kick-your-teeth-out/./src/features/search/query/index.jsx","webpack://words-to-kick-your-teeth-out/./src/features/search/query/search-form.module.css","webpack://words-to-kick-your-teeth-out/./src/features/search/search-form/index.jsx","webpack://words-to-kick-your-teeth-out/./src/features/search/use-state.js","webpack://words-to-kick-your-teeth-out/./src/features/search/pagefind.js","webpack://words-to-kick-your-teeth-out/./src/features/search/use-search.js","webpack://words-to-kick-your-teeth-out/./src/features/search/suspense-list/index.jsx","webpack://words-to-kick-your-teeth-out/./src/features/search/result-list/index.jsx","webpack://words-to-kick-your-teeth-out/./src/pages/search.jsx"],"sourcesContent":["import { BlockA } from \"../block-a\";\nimport { ClickTrap } from \"../click-trap\";\nimport { BreadcrumbItem } from \"./breadcrumb-item.jsx\";\n\nexport { BreadcrumbList } from \"./breadcrumb-list.jsx\";\nexport { BreadcrumbItem } from \"./breadcrumb-item.jsx\";\n\nexport const BreadcrumbA = props =>\n<BreadcrumbItem>\n    <BlockA {...props}>\n        {props.children}\n        <ClickTrap />\n    </BlockA>\n</BreadcrumbItem>;\n","import { graphql, useStaticQuery } from \"gatsby\";\n\nconst usePostTagsRaw = () => useStaticQuery(graphql`\nquery {\n  allPost {\n     place: distinct(field: {places: SELECT})\n     tag: distinct(field: {tags: SELECT})\n     person: distinct(field: {people: SELECT})\n     category: distinct(field: {category: SELECT})\n  }\n}`);\n\nexport const usePostTags = () => usePostTagsRaw().allPost;\n","import { useTransition, useReducer, useCallback } from \"react\";\n\nconst initState = {\n    s: '',\n    category: new Set(),\n    tag: new Set(),\n    place: new Set(),\n    person: new Set()\n};\n\nconst reducer = (state, action) => {\n    const { type } = action;\n    switch (type) {\n    case 'set': {\n        const { name, value } = action;\n        return { ...state, [name]: value };\n    }\n\n    default:\n        return state;\n    }\n};\n\nexport const useFormState = () => {\n    const [\n        { s, category, tag, place, person },\n        dispatch\n    ] = useReducer(reducer, initState);\n    const [, startTransition] = useTransition();\n\n    const setter = useCallback(\n        (name, value) => dispatch({ type: 'set', name, value }),\n        []);\n\n    const navigate = useCallback(\n        ({s, category, tag, place, person}) =>\n        startTransition(() =>\n            dispatch({ type: 'navigate', s, category, tag, place, person })),\n        []);\n\n    return {\n        s, category, tag, place, person,\n        setter,\n        navigate\n    };\n};\n","import { forwardRef } from \"react\";\nimport { checkbox } from \"./checkbox.module.css\";\n\nexport const Checkbox = forwardRef((props, ref) =>\n    <input className={checkbox} type=\"checkbox\" {...props} ref={ref}/>);\nCheckbox.displayName = `Checkbox`;\n","// extracted by mini-css-extract-plugin\nexport var checkbox = \"checkbox-module--checkbox--5b819\";","import { createContext, useId, useContext } from \"react\";\nimport { Checkbox } from \"../checkbox\";\nimport { label as labelClass, select, option, optionLabel } from \"./select.module.css\";\n\nconst SelectContext = createContext(null);\nSelectContext.displayName = 'Select';\n\nexport const Select = ({ name, label, children, onChange }) =>\n<fieldset className={select} onChange={onChange}>\n    <legend className={labelClass}>{label}</legend>\n    <SelectContext.Provider value={name}>\n        {children}\n    </SelectContext.Provider>\n</fieldset>;\n\nexport const Option = ({ children, onChange, selected, value }) => {\n    const id = useId();\n    const name = useContext(SelectContext);\n\n    return <div className={option}>\n               <Checkbox id={id}\n                         name={name} value={value}\n                         onChange={onChange}\n                         checked={selected}\n               />\n               <label className={optionLabel} htmlFor={id}>{children}</label>\n           </div>;\n};\n","// extracted by mini-css-extract-plugin\nexport var label = \"select-module--label--7c67c\";\nexport var option = \"select-module--option--1e551\";\nexport var optionLabel = \"select-module--optionLabel--88466\";\nexport var select = \"select-module--select--516ad\";","import { useId } from \"react\";\nimport { Input, Button, Card } from \"@features/ui\";\nimport { legend, query, queryContent } from \"./search-form.module.css\";\n\nexport const Query = ({value, onChange}) => {\n    const id = useId();\n\n    return <fieldset className={query}>\n               <legend className={legend}>Basic</legend>\n               <Card>\n                   <span>Basic</span>\n                   <div className={queryContent}>\n                       <label htmlFor={id}>\n                           Query\n                       </label>\n                       <Input id={id}\n                              name=\"s\" type=\"search\"\n                              value={value}\n                              onChange={onChange}\n                       />\n                       <Button type=\"submit\">Search</Button>\n                   </div>\n               </Card>\n           </fieldset>;\n};\n","// extracted by mini-css-extract-plugin\nexport var legend = \"search-form-module--legend--356f7\";\nexport var query = \"search-form-module--query--b601d\";\nexport var queryContent = \"search-form-module--queryContent--db47b\";","import { useCallback, useMemo } from \"react\";\nimport { Card, Column, Hgroup, H2 } from \"@features/ui\";\nimport { Search } from \"@features/polyfill\";\nimport { Select, Option } from \"../select\";\nimport { Query } from \"../query\";\n\nconst Options = ({options, onChange, selected}) => useMemo(() => options.map(option => {\n    const checked = selected?.has(option);\n\n    return {\n        option,\n        selected: checked,\n        onChange(e) {\n            onChange(e, option, checked);\n        }\n    };\n}), [options, selected, onChange]).map(({\n    option,\n    selected,\n    onChange\n}) => <Option key={option}\n              onChange={onChange}\n              selected={selected}\n              value={option}>\n          {option}\n      </Option>);\n\nconst Selects = ({\n    state,\n    onChange\n}) => useMemo(() => state.map(({selected, options, legend, name}) => {\n    return {\n        options,\n        name,\n        legend,\n        selected,\n        onChange(e, option, checked) {\n            onChange(e, option, checked, name);\n        }\n    };\n}), [state, onChange]).map(({\n    name,\n    options,\n    legend,\n    selected,\n    onChange\n}) => <Select key={name} name={name} label={legend}>\n          <Card>\n              <span>{legend}</span>\n              <Options options={options} selected={selected} onChange={onChange} />\n          </Card>\n      </Select>\n                          );\n\nconst legends = {\n    category: 'Category',\n    place: 'Place',\n    person: 'Person',\n    tag: 'Tag'\n};\n\nexport const SearchForm = ({\n    action,\n    onSubmit,\n    tags,\n    s,\n    tag,\n    category,\n    place,\n    person,\n    set\n}) => {\n    const onChangeS = useCallback(e => set('s', e.target.value), [set]);\n\n    const selects = useMemo(() => ({ category, place, person, tag }), [category, place, person, tag]);\n\n    const onChangeSelect = useCallback((e, option, checked, name) => {\n        const old = selects[name];\n\n        const next = new Set(old);\n        if (checked) {\n            next.delete(option);\n        } else {\n            next.add(option);\n        }\n\n        set(name, next);\n    }, [set, selects]);\n\n    const theState = Object.entries(selects).map(([name, selected]) => {\n        const legend = legends[name];\n        const options = tags[name];\n        return { name, selected, legend, options };\n    });\n\n    return <Search>\n               <form rel=\"search\" action={action} onSubmit={onSubmit}>\n                   <Column>\n                       <header>\n                           <Card>\n                               <Hgroup>\n                                   <H2>Search</H2>\n                               </Hgroup>\n                           </Card>\n                       </header>\n\n                       <Query value={s} onChange={onChangeS} />\n\n                       <Selects state={theState}\n                                onChange={onChangeSelect}\n                       />\n                   </Column>\n               </form>\n           </Search>;\n};\n","import { useTransition, useReducer, useCallback } from \"react\";\n\nconst initState = [];\n\nconst reducer = (state, action) => {\n    const { type } = action;\n    switch (type) {\n    case \"init\": {\n        const { linkIds } = action;\n        return linkIds.map(id => ({ id, loaded: false }));\n    }\n\n    case \"load\": {\n        const { index, url, title } = action;\n        const { id } = state[index];\n        state = Array.from(state);\n        state[index] = { id, loaded: true, url, title };\n        return state;\n    }\n\n    default:\n        return state;\n    }\n};\n\nexport const useSearchState = () => {\n    const [\n        links,\n        dispatch\n    ] = useReducer(reducer, initState);\n    const [, startTransition] = useTransition();\n\n    const init = useCallback(\n        links => startTransition(() => dispatch({ type: 'init', linkIds: links })),\n        []);\n\n    const load = useCallback(\n        (index, url, title) =>\n        startTransition(() =>\n            dispatch({ type: 'load', index, url, title })),\n        []);\n\n    return {\n        links,\n        init,\n        load\n    };\n};\n","const maybePs = async x => {\n    try {\n        return await x;\n    } catch (e) {\n        console.warn(e);\n        return;\n    }\n};\n\n// Work around dynamically importing pagefind getting messed up by\n// webpack\nconst realImport = Function('return x => import(x);')();\n\nexport const search = async (s, opts) => {\n    const pf = await maybePs(realImport(\"/static/pagefind/pagefind.js\"));\n    if (!pf) {\n        return;\n    }\n\n    return await pf.search(s, opts);\n};\n","import { useEffect } from 'react';\nimport * as Pagefind from './pagefind.js';\n\nconst parseParams = search => {\n    const params = new URLSearchParams(search);\n    let s = params.get('s');\n    if (s === '') {\n        s = null;\n    }\n    const category = new Set(params.getAll('category'));\n    const tag = new Set(params.getAll('tag'));\n    const place = new Set(params.getAll('place'));\n    const person = new Set(params.getAll('person'));\n    return { s, category, tag, place, person };\n};\n\nexport const useSearch = (search, n, onInit, onLoad) => {\n    useEffect(() => {\n        if (!search) {\n            return;\n        }\n\n        let {s, category, tag, place, person} = parseParams(search);\n        const filters = {\n            ...(category.size > 0 ? { category: Array.from(category) } : null),\n            ...(tag.size > 0 ? { tag: Array.from(tag) } : null),\n            ...(place.size > 0 ? { place: Array.from(place) } : null),\n            ...(person.size > 0 ? { person: Array.from(person) } : null),\n        };\n\n        let ignore = false;\n        (async () => {\n            const data = await Pagefind.search(s, { filters });\n            if (ignore) {\n                return;\n            }\n\n            if (!data) {\n                return;\n            }\n\n            const posts = data.results.slice(0, n);\n\n            onInit(posts.map(post => post.id));\n\n            await Promise.all(posts.map(async (post, index) => {\n                const data = await post.data();\n                if (ignore) {\n                    return;\n                }\n\n                const { url, meta: { title } } = data;\n\n                onLoad(index, url, title);\n            }));\n        })();\n        return () => ignore = true;\n    }, [search, n, onInit, onLoad]);\n};\n","import { memo, Suspense, createContext, useContext } from \"react\";\nimport { Ul, Li } from \"@features/ui\";\n\nconst FallbackContext = createContext();\nFallbackContext.displayName = 'Fallback';\n\nconst FallbackProvider = FallbackContext.Provider;\n\nconst Fallback = () => useContext(FallbackContext);\n\nconst FallbackMemo = memo(Fallback);\n\nexport const SuspenseItem = ({children}) =>\n<Li>\n    <Suspense fallback={<FallbackMemo />}>\n        {children}\n    </Suspense>\n</Li>;\n\nexport const SuspenseList = ({children, fallback}) =>\n<Ul>\n    <FallbackProvider value={fallback}>\n        {children}\n    </FallbackProvider>\n</Ul>;\n","import { lazy } from \"react\";\nimport { A, ClickTrap } from \"@features/ui\";\nimport { SuspenseList, SuspenseItem } from \"../suspense-list\";\n\nconst Suspend = lazy(() => new Promise(r => {}));\n\nconst Result = ({loaded, url, title}) => {\n    if (!loaded) {\n        return <Suspend />;\n    }\n    return <A href={url}>{title}<ClickTrap /></A>;\n};\n\nconst Loading = () =>\n<A role=\"link\" aria-disabled=\"true\">Loading...</A>;\n\nexport const ResultList = ({links}) =>\n<SuspenseList fallback={<Loading />}>\n    {\n        links.map(link =>\n            <SuspenseItem key={link.id}>\n                <Result {...link} />\n            </SuspenseItem>)\n    }\n</SuspenseList>;\n","import { useDeferredValue, useEffect, useMemo } from \"react\";\nimport { useLocation } from \"@gatsbyjs/reach-router\";\nimport {\n    ResultList, SearchForm,\n    useSearch, usePostTags, useFormState,\n    useSearchState\n} from \"@features/search\";\nimport { BreadcrumbList, BreadcrumbItem, BreadcrumbA } from \"@features/ui\";\nimport { ViewportPage } from \"@features/page\";\nimport { useSubmit, useClient } from \"@features/util\";\nimport { useTitle } from \"../components/title.jsx\";\nimport { separator } from \"../utils/separator.js\";\n\nconst parseParams = search => {\n    const params = new URLSearchParams(search);\n    const s = params.get('s') ?? '';\n    const category = new Set(params.getAll('category'));\n    const tag = new Set(params.getAll('tag'));\n    const place = new Set(params.getAll('place'));\n    const person = new Set(params.getAll('person'));\n    return { s, category, tag, place, person };\n};\n\nconst Form = ({ onSubmit, search }) => {\n    const tags = usePostTags();\n    const {\n        s, category, tag, place, person,\n        setter,\n        navigate\n    } = useFormState();\n\n    useEffect(() => {\n        const { s, category, tag, place, person } = parseParams(search);\n        navigate({ s, category, tag, place, person });\n    }, [navigate, search]);\n\n    return <SearchForm action=\"/search\"\n                       onSubmit={onSubmit}\n\n                       tags={tags}\n                       set={setter}\n\n                       s={s}\n                       category={category}\n                       tag={tag}\n                       place={place}\n                       person={person}\n           />;\n};\n\nexport const Head = () => {\n    let { search = '' } = useLocation();\n    const client = useClient();\n    if (!client) {\n        search = '';\n    }\n\n    const title = useMemo(() => {\n        const { s } = parseParams(search);\n        if (s === '' || !s) {\n            return [];\n        }\n        return [s];\n    }, [search]);\n\n    const fulltitle = useTitle(...title, 'Search');\n    return <>\n               <title>{fulltitle}</title>\n               <link rel=\"modulepreload\" href=\"/static/pagefind/pagefind.js\" />\n               <link rel=\"preload\" href=\"/static/pagefind/wasm.en.pagefind\"\n                     as=\"fetch\" crossOrigin=\"crossOrigin\"\n                     type=\"application/octet-stream\"\n               />\n           </>;\n};\n\nconst Searcher = ({ search }) => {\n    const deferredSearch = useDeferredValue(search);\n\n    const { links, init, load } = useSearchState();\n\n    useSearch(deferredSearch, 10, init, load);\n\n    return <ResultList links={links} />;\n};\n\nconst SearchPage = () => {\n    const onSubmit = useSubmit();\n\n    let { search = '' } = useLocation();\n    const client = useClient();\n    if (!client) {\n        search = '';\n    }\n\n    const deferredSearch = useDeferredValue(search);\n    const { s = '' } = new URLSearchParams(deferredSearch);\n\n    return <ViewportPage\n               support={<Form onSubmit={onSubmit} search={deferredSearch} />}\n               breadcrumbs={\n                   <BreadcrumbList>\n                       <BreadcrumbA href=\"/\">Home</BreadcrumbA>\n                       <BreadcrumbItem>\n                           <span aria-current=\"page\">\n                               Search\n                           </span>\n                       </BreadcrumbItem>\n                   </BreadcrumbList>\n               }\n               heading={\n                   s === '' ?\n                       <>Results</> :\n                       <>{s}{separator}Results</>\n               }\n           >\n               <Searcher search={deferredSearch} />\n           </ViewportPage>;\n};\n\nexport default SearchPage;\n"],"names":["BreadcrumbA","props","_jsx","BreadcrumbItem","children","_jsxs","BlockA","ClickTrap","usePostTags","useStaticQuery","allPost","initState","s","category","Set","tag","place","person","reducer","state","action","type","name","value","Checkbox","forwardRef","ref","className","displayName","SelectContext","createContext","Select","_ref","label","onChange","Provider","Option","_ref2","selected","id","useId","useContext","checked","htmlFor","Query","Card","Input","Button","Options","options","useMemo","map","option","has","e","Selects","_ref3","_ref4","legend","_ref5","legends","SearchForm","_ref6","onSubmit","tags","set","onChangeS","useCallback","target","selects","onChangeSelect","old","next","delete","add","theState","Object","entries","_ref7","Search","rel","Column","Hgroup","H2","linkIds","loaded","index","url","title","Array","from","realImport","Function","search","async","opts","pf","x","console","warn","maybePs","useSearch","n","onInit","onLoad","useEffect","params","URLSearchParams","get","getAll","parseParams","filters","size","ignore","data","Pagefind","posts","results","slice","post","Promise","all","meta","FallbackContext","FallbackProvider","Fallback","FallbackMemo","memo","SuspenseItem","Li","Suspense","fallback","SuspenseList","Ul","Suspend","lazy","r","Result","A","href","Loading","role","ResultList","links","link","_params$get","Form","setter","navigate","useFormState","dispatch","useReducer","startTransition","useTransition","Head","useLocation","useClient","fulltitle","useTitle","_toConsumableArray","concat","_Fragment","as","crossOrigin","Searcher","deferredSearch","useDeferredValue","init","load","useSearchState","SearchPage","useSubmit","ViewportPage","support","breadcrumbs","BreadcrumbList","heading","separator"],"sourceRoot":""}