{"version":3,"file":"component---src-pages-index-jsx-12e6fdc1264acdf8b1c1.js","mappings":"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","sources":["webpack://words-to-kick-your-teeth-out/./src/components/json-ld.jsx","webpack://words-to-kick-your-teeth-out/./src/components/seo-basic.jsx","webpack://words-to-kick-your-teeth-out/./src/hooks/use-opengraph.js","webpack://words-to-kick-your-teeth-out/./src/features/route/use-search-url.js","webpack://words-to-kick-your-teeth-out/./src/features/ui/subheading/index.jsx","webpack://words-to-kick-your-teeth-out/./src/features/ui/subheading/subheading.module.css","webpack://words-to-kick-your-teeth-out/./src/hooks/use-absolute.js","webpack://words-to-kick-your-teeth-out/./src/hooks/use-site-metadata.js","webpack://words-to-kick-your-teeth-out/./src/features/index/search-form/index.jsx","webpack://words-to-kick-your-teeth-out/./src/features/index/search-form/search-form.module.css","webpack://words-to-kick-your-teeth-out/./src/pages/index.jsx","webpack://words-to-kick-your-teeth-out/./src/features/index/use-website.js","webpack://words-to-kick-your-teeth-out/./src/utils/flatten.js"],"sourcesContent":["import { useMemo } from \"react\";\n\nexport const JsonLd = ({srcdoc}) => {\n    const json = useMemo(() => JSON.stringify(srcdoc), [srcdoc]);\n    return <script type=\"application/ld+json\">{json}</script>;\n};\n","import { flatten } from \"../utils/flatten.js\";\nimport { useSiteMetadata } from '../hooks/use-site-metadata.js';\nimport { useOpenGraph } from '../hooks/use-opengraph.js';\n\nconst Open = props => {\n    const json = useOpenGraph(props);\n\n    return Array.from((function* (){\n        for (const [ix, k, v] of flatten(json)) {\n            yield <meta key={ix} property={k} content={v} />;\n        }\n    })());\n};\n\nexport const SeoBasic = props => {\n    const {description, url} = props;\n    const site = useSiteMetadata();\n    return <>\n               {url && <link rel=\"canonical\" href={url} /> }\n               <meta name=\"description\" content={description ?? site.description} />\n               <Open {...props} />\n           </>;\n};\n","import { useMemo } from 'react';\nimport { useSiteMetadata } from './use-site-metadata.js';\n\nexport const useOpenGraph = ({description, url, title}) => {\n    const site = useSiteMetadata();\n    return useMemo(() => {\n        return {\n            og: {\n                site_name: site.title,\n                title,\n                description: description ?? site.description,\n                url\n            }\n        };\n    }, [site, description, url, title]);\n};\n","import { useMemo } from 'react';\nimport { withPrefix } from \"gatsby\";\n\nconst path = \"/search\";\n\nconst lb = (label, xs = []) => xs.map(x => [label, x]);\n\nexport const useSearchURL = xs => {\n    const {s, category, tag, place, person} = xs ?? {};\n    return useMemo(() => {\n        const opts = [\n            ...(s ? ['s', s] : []),\n            ...lb('category', category),\n            ...lb('tag', tag),\n            ...lb('place', place),\n            ...lb('person', person)\n        ];\n\n        const p = String(new URLSearchParams(opts));\n        const y =  p === '' ? path : `${path}?${p}` ;\n        return withPrefix(y);\n    }, [s, category, tag, place, person]);\n};\n","import { withClass } from \"@features/util\";\nimport { p } from \"./subheading.module.css\";\n\nexport const Subheading = withClass('p', p);\n","// extracted by mini-css-extract-plugin\nexport var p = \"subheading-module--p--b5186\";","import { graphql, useStaticQuery } from \"gatsby\";\nimport { useMemo } from \"react\";\n\nconst useMetadata = () => useStaticQuery(graphql`\nquery {\n  site {\n    siteMetadata {\n      siteUrl\n    }\n  }\n}`);\n\nexport const useAbsolute = pathname => {\n    const raw = useMetadata();\n    return useMemo(() => {\n        const site = raw.site.siteMetadata;\n        return String(new URL(pathname, site.siteUrl));\n    }, [raw, pathname]);\n};\n","import { graphql, useStaticQuery } from \"gatsby\";\n\nconst useSiteMetadataRaw = () => useStaticQuery(graphql`\nquery {\n  site {\n    siteMetadata {\n      title\n      description\n    }\n  }\n}`);\n\nexport const useSiteMetadata = () => useSiteMetadataRaw().site.siteMetadata;\n","import { useId } from \"react\";\nimport { Input, Button } from \"@features/ui\";\nimport { query } from \"./search-form.module.css\";\n\nexport const SearchForm = ({action, onSubmit}) => {\n    const id = useId();\n\n    return <form rel=\"search\" action={action} onSubmit={onSubmit}>\n               <fieldset className={query}>\n                   <label htmlFor={id}>Query</label>\n                   <Input id={id} name=\"s\" type=\"search\" required />\n                   <Button type=\"submit\">Search</Button>\n               </fieldset>\n           </form>;\n};\n","// extracted by mini-css-extract-plugin\nexport var query = \"search-form-module--query--650cb\";","import { useId } from \"react\";\nimport { useLocation } from \"@gatsbyjs/reach-router\";\nimport {\n    SearchForm,\n    useWebsite\n} from \"@features/index\";\nimport { useSearchURL } from \"@features/route\";\nimport {\n    BlockA,\n    BreadcrumbList, BreadcrumbItem,\n    Card,\n    ClickTrap,\n    H2A,\n    Header,\n    Hgroup,\n    Subheading,\n    Ul,\n    Li\n} from \"@features/ui\";\nimport { ScreenOnly, useSubmit } from \"@features/util\";\nimport { ViewportPage } from \"@features/page\";\nimport { Search } from \"@features/polyfill\";\nimport { JsonLd } from \"../components/json-ld.jsx\";\nimport { SeoBasic } from \"../components/seo-basic.jsx\";\nimport { useTitle } from \"../components/title.jsx\";\nimport { useAbsolute } from \"../hooks/use-absolute.js\";\nimport { useSiteMetadata } from \"../hooks/use-site-metadata.js\";\n\nconst title = \"Site\";\n\nconst Seo = () => {\n    const { pathname } = useLocation();\n    const url = useAbsolute(pathname);\n    return <SeoBasic title={title} url={url} />;\n};\n\nexport const Head = () => {\n    const json = useWebsite();\n    const fulltitle = useTitle(title);\n    return <>\n               <title>{fulltitle}</title>\n               <link type=\"application/atom+xml\" rel=\"alternate\" href=\"/feed.xml\" />\n               <Seo />\n               <JsonLd srcdoc={json} />\n           </>;\n};\n\nconst Banner = () =>\n<Ul>\n    <Li><BlockA href=\"/portfolio/\">Portfolio<ClickTrap /></BlockA></Li>\n    <Li><BlockA href=\"/blog/\">Blog<ClickTrap /></BlockA></Li>\n    <Li><BlockA download=\"feed.xml\" rel=\"alternate\" href=\"/feed.xml\">Subscribe (RSS)<ClickTrap /></BlockA></Li>\n    <Li><BlockA rel=\"author\" href=\"/about/\">About the Author<ClickTrap /></BlockA></Li>\n    <Li><BlockA href=\"/README\">About this Blog<ClickTrap /></BlockA></Li>\n</Ul>;\n\nconst IndexPage = () => {\n    const { title, description } = useSiteMetadata();\n    const onSubmit = useSubmit();\n    const search = useSearchURL();\n    const id = useId();\n    return <ViewportPage\n               navigation={\n                   <ScreenOnly>\n                       <Search aria-describedby=\"search\">\n                           <Card>\n                               <Header>\n                                   <Hgroup>\n                                       <H2A id=\"search\">Search</H2A>\n                                   </Hgroup>\n                               </Header>\n                               <SearchForm action={search} onSubmit={onSubmit} />\n                           </Card>\n                       </Search>\n                   </ScreenOnly>\n               }\n               breadcrumbs={\n                   <BreadcrumbList>\n                       <BreadcrumbItem>\n                           <span aria-current=\"page\">Home</span>\n                       </BreadcrumbItem>\n                   </BreadcrumbList>\n               }\n               heading={title}\n               subheading={<Subheading>{description}</Subheading>}\n           >\n               <Banner />\n           </ViewportPage>;\n};\n\n\nexport default IndexPage;\n","import { useMemo } from \"react\";\nimport { useAbsolute } from \"../../hooks/use-absolute.js\";\nimport { useSiteMetadata } from \"../../hooks/use-site-metadata.js\";\n\nexport const useWebsite = () => {\n    const site = useSiteMetadata();\n    const search = useAbsolute('/search');\n    const index = useAbsolute('/');\n    return useMemo(() => ({\n        \"@context\": \"https://schema.org\",\n        \"@type\": \"WebSite\",\n        \"name\": site.title,\n        \"description\": site.description,\n        \"url\": index,\n        \"potentialAction\": {\n            \"@type\": \"SearchAction\",\n            \"target\": {\n                \"@type\": \"EntryPoint\",\n                \"urlTemplate\": `${search}?s={s}`\n            },\n            \"query-input\": \"required name=s\"\n        }\n    }), [site, search, index]);\n};\n","const loop = function *loop(ix, key, value) {\n    if (typeof value === 'string') {\n        yield [ix, key, value];\n        return;\n    }\n\n    if (Array.isArray(value)) {\n        let ii = 0;\n        for (const x of value) {\n            for (const l of loop(`${ix}${ii}`, key, x)) {\n                yield l;\n            }\n            ++ii;\n        }\n        return;\n    }\n\n    for (const [k, v] of Object.entries(value)) {\n        const prop = key ? `${key}:${k}` : k ;\n        const newix = key ? `${ix}:${k}` : k ;\n        for (const l of loop(newix, prop, v)) {\n            yield l;\n        }\n    }\n};\n\nexport const flatten = function*(value) {\n    for (const l of loop(null, null, value)) {\n        yield l;\n    }\n};\n"],"names":["JsonLd","_ref","srcdoc","json","useMemo","JSON","stringify","_jsx","type","children","Open","props","description","url","title","site","useSiteMetadata","og","site_name","useOpenGraph","Array","from","ix","k","v","flatten","property","content","SeoBasic","_jsxs","_Fragment","rel","href","name","path","lb","label","xs","map","x","useSearchURL","s","category","tag","place","person","opts","concat","_toConsumableArray","p","String","URLSearchParams","y","withPrefix","Subheading","withClass","useAbsolute","pathname","raw","useStaticQuery","siteMetadata","URL","siteUrl","SearchForm","action","onSubmit","id","useId","className","htmlFor","Input","required","Button","Seo","useLocation","Head","useWebsite","search","index","fulltitle","useTitle","Banner","Ul","Li","BlockA","ClickTrap","download","IndexPage","useSubmit","ViewportPage","navigation","ScreenOnly","Search","Card","Header","Hgroup","H2A","breadcrumbs","BreadcrumbList","BreadcrumbItem","heading","subheading","loop","key","value","isArray","ii","l","Object","entries","prop","newix"],"sourceRoot":""}